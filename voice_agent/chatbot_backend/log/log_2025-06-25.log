2025-06-25 23:39:57,351 mlscoringinference [INFO | assistant_tool.py : TradingAgent : 62] --> Trading Agent Call.
2025-06-25 23:39:57,354 mlscoringinference [INFO | assistant_tool.py : ReportAgent : 90] --> Report Agent Call.
2025-06-25 23:39:57,357 mlscoringinference [INFO | assistant_tool.py : AccountAgent : 131] --> Account Agent Call.
2025-06-25 23:39:57,359 mlscoringinference [INFO | assistant_tool.py : InformationCentreAgent : 173] --> Information Centre Agent Call.
2025-06-25 23:39:57,361 mlscoringinference [INFO | assistant_tool.py : FundAgent : 204] --> Fund Agent Call.
2025-06-25 23:39:57,363 mlscoringinference [INFO | assistant_tool.py : DPAgent : 231] --> DP Agent Call.
2025-06-25 23:39:57,428 mlscoringinference [INFO | react_tool.py : <module> : 155] --> Initializing basic tools...
2025-06-25 23:39:57,960 mlscoringinference [INFO | langgraph_builder.py : <module> : 75] --> Rannnable Importing.
2025-06-25 23:39:57,963 mlscoringinference [INFO | react_agent.py : get_runnable_react : 36] --> React agent for report_agent_schema Creating...
2025-06-25 23:39:57,964 mlscoringinference [INFO | json_utils.py : load_json_file : 53] --> Loading JSON file from path: D:\mofsl-wmchatbot-repo\chatbot_backend\agentic_flow\openapi_schema\report_agent_schema.json
2025-06-25 23:39:57,966 mlscoringinference [INFO | react_agent.py : get_runnable_react : 40] --> API Specification loaded.
2025-06-25 23:39:57,971 mlscoringinference [INFO | react_agent.py : get_runnable_react : 46] --> React agent runnable for report_agent_schema created successfully.
2025-06-25 23:39:57,972 mlscoringinference [INFO | react_agent.py : get_runnable_react : 36] --> React agent for account_agent_schema Creating...
2025-06-25 23:39:57,972 mlscoringinference [INFO | json_utils.py : load_json_file : 53] --> Loading JSON file from path: D:\mofsl-wmchatbot-repo\chatbot_backend\agentic_flow\openapi_schema\account_agent_schema.json
2025-06-25 23:39:57,975 mlscoringinference [INFO | react_agent.py : get_runnable_react : 40] --> API Specification loaded.
2025-06-25 23:39:57,979 mlscoringinference [INFO | react_agent.py : get_runnable_react : 46] --> React agent runnable for account_agent_schema created successfully.
2025-06-25 23:39:57,979 mlscoringinference [INFO | react_agent.py : get_runnable_react : 36] --> React agent for fund_agent_schema Creating...
2025-06-25 23:39:57,979 mlscoringinference [INFO | json_utils.py : load_json_file : 53] --> Loading JSON file from path: D:\mofsl-wmchatbot-repo\chatbot_backend\agentic_flow\openapi_schema\fund_agent_schema.json
2025-06-25 23:39:57,981 mlscoringinference [INFO | react_agent.py : get_runnable_react : 40] --> API Specification loaded.
2025-06-25 23:39:57,985 mlscoringinference [INFO | react_agent.py : get_runnable_react : 46] --> React agent runnable for fund_agent_schema created successfully.
2025-06-25 23:39:57,988 mlscoringinference [INFO | react_agent.py : get_runnable_react : 36] --> React agent for trading_agent_schema Creating...
2025-06-25 23:39:57,988 mlscoringinference [INFO | json_utils.py : load_json_file : 53] --> Loading JSON file from path: D:\mofsl-wmchatbot-repo\chatbot_backend\agentic_flow\openapi_schema\trading_agent_schema.json
2025-06-25 23:39:57,989 mlscoringinference [INFO | react_agent.py : get_runnable_react : 40] --> API Specification loaded.
2025-06-25 23:39:57,993 mlscoringinference [INFO | react_agent.py : get_runnable_react : 46] --> React agent runnable for trading_agent_schema created successfully.
2025-06-25 23:39:57,994 mlscoringinference [INFO | information_center_agent.py : get_information_runnable_react : 34] --> Information React agent for information_centre_agent_schema Creating...
2025-06-25 23:39:57,994 mlscoringinference [INFO | json_utils.py : load_json_file : 53] --> Loading JSON file from path: D:\mofsl-wmchatbot-repo\chatbot_backend\agentic_flow\openapi_schema\information_centre_agent_schema.json
2025-06-25 23:39:57,995 mlscoringinference [INFO | information_center_agent.py : get_information_runnable_react : 38] --> API Specification loaded.
2025-06-25 23:39:58,002 mlscoringinference [INFO | information_center_agent.py : get_information_runnable_react : 44] --> Information React agent runnable for information_centre_agent_schema created successfully.
2025-06-25 23:39:58,002 mlscoringinference [INFO | react_agent.py : get_runnable_react : 36] --> React agent for combine Creating...
2025-06-25 23:39:58,002 mlscoringinference [INFO | json_utils.py : load_json_file : 53] --> Loading JSON file from path: D:\mofsl-wmchatbot-repo\chatbot_backend\agentic_flow\openapi_schema\combine.json
2025-06-25 23:39:58,006 mlscoringinference [INFO | react_agent.py : get_runnable_react : 40] --> API Specification loaded.
2025-06-25 23:39:58,010 mlscoringinference [INFO | react_agent.py : get_runnable_react : 46] --> React agent runnable for combine created successfully.
2025-06-25 23:39:58,010 mlscoringinference [INFO | langgraph_builder.py : <module> : 86] --> Rannnable for all agents created successfully.
2025-06-25 23:39:58,198 mlscoringinference [INFO | chatbot_service.py : <module> : 37] --> Chatbot service initialization started.
2025-06-25 23:39:58,199 mlscoringinference [INFO | session_store.py : __init__ : 29] --> Initializing RedisSessionStore.
2025-06-25 23:39:58,202 mlscoringinference [INFO | redis_client.py : _connect : 40] --> Connecting to Redis...
2025-06-25 23:39:58,202 mlscoringinference [INFO | redis_client.py : _connect : 50] --> Redis connection established successfully.
2025-06-25 23:39:58,203 mlscoringinference [INFO | redis_client.py : __init__ : 23] --> Connected to Redis at master.mofsl-chatbot-dev-valkey.xfjxmr.aps1.cache.amazonaws.com in dev environment.
2025-06-25 23:39:58,204 mlscoringinference [INFO | session_store.py : __init__ : 33] --> RedisSessionStore initialized successfully.
2025-06-25 23:39:58,206 mlscoringinference [INFO | chatbot_service.py : <module> : 53] --> Chatbot service initialized successfully.
2025-06-25 23:40:59,780 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='mz0y9B8QfsbNSyh3KZrxp83' client_id='NAGSYA5' role='CLIENT' token='57be34d8-e702-4c8b-9191-de2bb6e231c5' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-25 23:40:59,782 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-25 23:41:00,279 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mz0y9B8QfsbNSyh3KZrxp83, found: No
2025-06-25 23:41:00,298 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mz0y9B8QfsbNSyh3KZrxp83, found: No
2025-06-25 23:41:00,321 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-25 23:41:00,325 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-25 23:41:44,877 mlscoringinference [INFO | assistant_tool.py : TradingAgent : 62] --> Trading Agent Call.
2025-06-25 23:41:44,878 mlscoringinference [INFO | assistant_tool.py : ReportAgent : 90] --> Report Agent Call.
2025-06-25 23:41:44,882 mlscoringinference [INFO | assistant_tool.py : AccountAgent : 131] --> Account Agent Call.
2025-06-25 23:41:44,884 mlscoringinference [INFO | assistant_tool.py : InformationCentreAgent : 173] --> Information Centre Agent Call.
2025-06-25 23:41:44,886 mlscoringinference [INFO | assistant_tool.py : FundAgent : 204] --> Fund Agent Call.
2025-06-25 23:41:44,888 mlscoringinference [INFO | assistant_tool.py : DPAgent : 231] --> DP Agent Call.
2025-06-25 23:41:44,915 mlscoringinference [INFO | react_tool.py : <module> : 155] --> Initializing basic tools...
2025-06-25 23:41:45,459 mlscoringinference [INFO | langgraph_builder.py : <module> : 75] --> Rannnable Importing.
2025-06-25 23:41:45,469 mlscoringinference [INFO | react_agent.py : get_runnable_react : 36] --> React agent for report_agent_schema Creating...
2025-06-25 23:41:45,470 mlscoringinference [INFO | json_utils.py : load_json_file : 53] --> Loading JSON file from path: D:\mofsl-wmchatbot-repo\chatbot_backend\agentic_flow\openapi_schema\report_agent_schema.json
2025-06-25 23:41:45,475 mlscoringinference [INFO | react_agent.py : get_runnable_react : 40] --> API Specification loaded.
2025-06-25 23:41:45,481 mlscoringinference [INFO | react_agent.py : get_runnable_react : 46] --> React agent runnable for report_agent_schema created successfully.
2025-06-25 23:41:45,483 mlscoringinference [INFO | react_agent.py : get_runnable_react : 36] --> React agent for account_agent_schema Creating...
2025-06-25 23:41:45,483 mlscoringinference [INFO | json_utils.py : load_json_file : 53] --> Loading JSON file from path: D:\mofsl-wmchatbot-repo\chatbot_backend\agentic_flow\openapi_schema\account_agent_schema.json
2025-06-25 23:41:45,486 mlscoringinference [INFO | react_agent.py : get_runnable_react : 40] --> API Specification loaded.
2025-06-25 23:41:45,490 mlscoringinference [INFO | react_agent.py : get_runnable_react : 46] --> React agent runnable for account_agent_schema created successfully.
2025-06-25 23:41:45,490 mlscoringinference [INFO | react_agent.py : get_runnable_react : 36] --> React agent for fund_agent_schema Creating...
2025-06-25 23:41:45,490 mlscoringinference [INFO | json_utils.py : load_json_file : 53] --> Loading JSON file from path: D:\mofsl-wmchatbot-repo\chatbot_backend\agentic_flow\openapi_schema\fund_agent_schema.json
2025-06-25 23:41:45,492 mlscoringinference [INFO | react_agent.py : get_runnable_react : 40] --> API Specification loaded.
2025-06-25 23:41:45,495 mlscoringinference [INFO | react_agent.py : get_runnable_react : 46] --> React agent runnable for fund_agent_schema created successfully.
2025-06-25 23:41:45,499 mlscoringinference [INFO | react_agent.py : get_runnable_react : 36] --> React agent for trading_agent_schema Creating...
2025-06-25 23:41:45,499 mlscoringinference [INFO | json_utils.py : load_json_file : 53] --> Loading JSON file from path: D:\mofsl-wmchatbot-repo\chatbot_backend\agentic_flow\openapi_schema\trading_agent_schema.json
2025-06-25 23:41:45,500 mlscoringinference [INFO | react_agent.py : get_runnable_react : 40] --> API Specification loaded.
2025-06-25 23:41:45,504 mlscoringinference [INFO | react_agent.py : get_runnable_react : 46] --> React agent runnable for trading_agent_schema created successfully.
2025-06-25 23:41:45,504 mlscoringinference [INFO | information_center_agent.py : get_information_runnable_react : 34] --> Information React agent for information_centre_agent_schema Creating...
2025-06-25 23:41:45,505 mlscoringinference [INFO | json_utils.py : load_json_file : 53] --> Loading JSON file from path: D:\mofsl-wmchatbot-repo\chatbot_backend\agentic_flow\openapi_schema\information_centre_agent_schema.json
2025-06-25 23:41:45,506 mlscoringinference [INFO | information_center_agent.py : get_information_runnable_react : 38] --> API Specification loaded.
2025-06-25 23:41:45,512 mlscoringinference [INFO | information_center_agent.py : get_information_runnable_react : 44] --> Information React agent runnable for information_centre_agent_schema created successfully.
2025-06-25 23:41:45,514 mlscoringinference [INFO | react_agent.py : get_runnable_react : 36] --> React agent for combine Creating...
2025-06-25 23:41:45,515 mlscoringinference [INFO | json_utils.py : load_json_file : 53] --> Loading JSON file from path: D:\mofsl-wmchatbot-repo\chatbot_backend\agentic_flow\openapi_schema\combine.json
2025-06-25 23:41:45,517 mlscoringinference [INFO | react_agent.py : get_runnable_react : 40] --> API Specification loaded.
2025-06-25 23:41:45,520 mlscoringinference [INFO | react_agent.py : get_runnable_react : 46] --> React agent runnable for combine created successfully.
2025-06-25 23:41:45,521 mlscoringinference [INFO | langgraph_builder.py : <module> : 86] --> Rannnable for all agents created successfully.
2025-06-25 23:41:45,743 mlscoringinference [INFO | chatbot_service.py : <module> : 37] --> Chatbot service initialization started.
2025-06-25 23:41:45,744 mlscoringinference [INFO | session_store.py : __init__ : 29] --> Initializing RedisSessionStore.
2025-06-25 23:41:45,748 mlscoringinference [INFO | redis_client.py : _connect : 40] --> Connecting to Redis...
2025-06-25 23:41:45,749 mlscoringinference [INFO | redis_client.py : _connect : 50] --> Redis connection established successfully.
2025-06-25 23:41:45,749 mlscoringinference [INFO | redis_client.py : __init__ : 23] --> Connected to Redis at master.mofsl-chatbot-dev-valkey.xfjxmr.aps1.cache.amazonaws.com in dev environment.
2025-06-25 23:41:45,750 mlscoringinference [INFO | session_store.py : __init__ : 33] --> RedisSessionStore initialized successfully.
2025-06-25 23:41:45,751 mlscoringinference [INFO | chatbot_service.py : <module> : 53] --> Chatbot service initialized successfully.
2025-06-25 23:41:55,105 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='pAGgFeNl3pd4Fd8hNcPnzta' client_id='NAGSYA5' role='CLIENT' token='eefc2114-d288-47a2-880a-688eb4ee548d' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-25 23:41:55,107 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-25 23:41:55,561 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta, found: No
2025-06-25 23:41:55,580 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta, found: No
2025-06-25 23:41:55,599 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-25 23:41:55,601 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-25 23:41:58,074 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='pAGgFeNl3pd4Fd8hNcPnzta' client_id='NAGSYA5' role='CLIENT' token='eefc2114-d288-47a2-880a-688eb4ee548d' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-25 23:41:58,075 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-25 23:41:58,096 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta, found: Yes
2025-06-25 23:41:58,115 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta, found: Yes
2025-06-25 23:41:58,134 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-25 23:41:58,136 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-25 23:42:26,152 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='pAGgFeNl3pd4Fd8hNcPnzta' client_id='NAGSYA5' role='CLIENT' token='eefc2114-d288-47a2-880a-688eb4ee548d' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='my_details', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-25 23:42:26,153 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-25 23:42:26,176 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta, found: Yes
2025-06-25 23:42:26,195 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta, found: Yes
2025-06-25 23:42:26,196 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:11:58.097365', 'history_stack': []}
2025-06-25 23:42:26,234 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta_api_payload, found: Yes
2025-06-25 23:42:26,270 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta_api_payload, found: Yes
2025-06-25 23:42:26,306 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta_api_payload, found: Yes
2025-06-25 23:42:26,343 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta_api_payload, found: Yes
2025-06-25 23:42:26,381 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta_api_payload, found: Yes
2025-06-25 23:42:26,400 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'pAGgFeNl3pd4Fd8hNcPnzta', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': 'eefc2114-d288-47a2-880a-688eb4ee548d', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'my_details', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-25 23:42:26,419 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta_api_payload, found: Yes
2025-06-25 23:42:26,420 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': 'eefc2114-d288-47a2-880a-688eb4ee548d', 'session_id': 'pAGgFeNl3pd4Fd8hNcPnzta', 'api_endpoint': 'my_details'}, 'last_updated': '2025-06-25T18:12:26.382281'}
2025-06-25 23:42:26,420 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: my_details
2025-06-25 23:42:26,439 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta_api_payload, found: Yes
2025-06-25 23:42:26,439 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: my_details is 'Emod'.
2025-06-25 23:42:26,439 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: my_details
2025-06-25 23:42:26,458 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta_api_payload, found: Yes
2025-06-25 23:42:26,459 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: my_details is 'Commodity'.
2025-06-25 23:42:26,477 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta_api_payload, found: Yes
2025-06-25 23:42:26,478 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: my_details is 'Effective'.
2025-06-25 23:42:26,480 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : my_details
2025-06-25 23:42:26,482 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'my_details', 'id': 'my_details'}
2025-06-25 23:42:26,482 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-25 23:42:26,501 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta_api_payload, found: Yes
2025-06-25 23:42:26,502 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': 'eefc2114-d288-47a2-880a-688eb4ee548d', 'session_id': 'pAGgFeNl3pd4Fd8hNcPnzta', 'api_endpoint': 'my_details'}, 'last_updated': '2025-06-25T18:12:26.382281'}
2025-06-25 23:42:26,503 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> pAGgFeNl3pd4Fd8hNcPnzta_client_id
2025-06-25 23:42:26,521 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: pAGgFeNl3pd4Fd8hNcPnzta_client_id, found: No
2025-06-25 23:42:26,522 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-25 23:42:26,526 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-25 23:42:26,527 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: pAGgFeNl3pd4Fd8hNcPnzta
2025-06-25 23:42:26,527 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-25 23:42:26,528 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> my_details - API ENDPOINT
2025-06-25 23:42:26,528 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'my_details' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': 'eefc2114-d288-47a2-880a-688eb4ee548d', 'session_id': 'pAGgFeNl3pd4Fd8hNcPnzta'}
2025-06-25 23:42:26,652 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'my_details': {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}]}
2025-06-25 23:42:26,653 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'my_details' call successful
2025-06-25 23:42:26,659 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}], 'action': 'result'}
2025-06-25 23:42:26,661 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}], 'action': 'result'} - RESPONSE
2025-06-25 23:42:26,663 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-25 23:42:26,665 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-25 23:46:37,442 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='R5T3ZdY4CA3sa4hPDfjd8R2' client_id='NAGSYA5' role='CLIENT' token='32d31642-63b7-4b1d-97b8-7060d633f020' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-25 23:47:27,911 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-25 23:47:27,946 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2, found: No
2025-06-25 23:47:27,964 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2, found: No
2025-06-25 23:47:27,983 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-25 23:47:27,987 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-25 23:47:33,280 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='R5T3ZdY4CA3sa4hPDfjd8R2' client_id='NAGSYA5' role='CLIENT' token='32d31642-63b7-4b1d-97b8-7060d633f020' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='my_details', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-25 23:47:33,282 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-25 23:47:33,304 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2, found: Yes
2025-06-25 23:47:33,323 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2, found: Yes
2025-06-25 23:47:33,323 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:17:27.947234', 'history_stack': []}
2025-06-25 23:47:33,363 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2_api_payload, found: Yes
2025-06-25 23:47:33,399 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2_api_payload, found: Yes
2025-06-25 23:47:33,436 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2_api_payload, found: Yes
2025-06-25 23:47:33,474 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2_api_payload, found: Yes
2025-06-25 23:47:33,510 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2_api_payload, found: Yes
2025-06-25 23:47:33,529 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'R5T3ZdY4CA3sa4hPDfjd8R2', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '32d31642-63b7-4b1d-97b8-7060d633f020', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'my_details', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-25 23:47:33,548 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2_api_payload, found: Yes
2025-06-25 23:47:33,549 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '32d31642-63b7-4b1d-97b8-7060d633f020', 'session_id': 'R5T3ZdY4CA3sa4hPDfjd8R2', 'api_endpoint': 'my_details'}, 'last_updated': '2025-06-25T18:17:33.511837'}
2025-06-25 23:47:33,552 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: my_details
2025-06-25 23:47:33,570 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2_api_payload, found: Yes
2025-06-25 23:47:33,570 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: my_details is 'Emod'.
2025-06-25 23:47:33,571 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: my_details
2025-06-25 23:47:33,590 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2_api_payload, found: Yes
2025-06-25 23:47:33,591 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: my_details is 'Commodity'.
2025-06-25 23:47:33,609 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2_api_payload, found: Yes
2025-06-25 23:47:33,610 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: my_details is 'Effective'.
2025-06-25 23:47:33,613 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : my_details
2025-06-25 23:47:33,614 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'my_details', 'id': 'my_details'}
2025-06-25 23:47:33,614 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-25 23:47:33,632 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2_api_payload, found: Yes
2025-06-25 23:47:33,633 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '32d31642-63b7-4b1d-97b8-7060d633f020', 'session_id': 'R5T3ZdY4CA3sa4hPDfjd8R2', 'api_endpoint': 'my_details'}, 'last_updated': '2025-06-25T18:17:33.511837'}
2025-06-25 23:47:33,633 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> R5T3ZdY4CA3sa4hPDfjd8R2_client_id
2025-06-25 23:47:33,651 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: R5T3ZdY4CA3sa4hPDfjd8R2_client_id, found: No
2025-06-25 23:47:33,652 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-25 23:47:33,652 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-25 23:47:33,652 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: R5T3ZdY4CA3sa4hPDfjd8R2
2025-06-25 23:47:33,653 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-25 23:47:33,653 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> my_details - API ENDPOINT
2025-06-25 23:47:33,654 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'my_details' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '32d31642-63b7-4b1d-97b8-7060d633f020', 'session_id': 'R5T3ZdY4CA3sa4hPDfjd8R2'}
2025-06-25 23:47:33,772 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'my_details': {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}]}
2025-06-25 23:47:33,773 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'my_details' call successful
2025-06-25 23:47:33,777 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}], 'action': 'result'}
2025-06-25 23:47:33,778 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}], 'action': 'result'} - RESPONSE
2025-06-25 23:47:33,779 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-25 23:47:33,780 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-25 23:58:22,684 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='GuHGYIsl5uBdpBJ1TwksC5j' client_id='NAGSYA5' role='CLIENT' token='119d1dbf-e49d-4f37-8ed4-43aef247df65' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-25 23:58:28,386 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-25 23:58:28,421 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j, found: No
2025-06-25 23:58:28,439 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j, found: No
2025-06-25 23:58:28,459 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-25 23:58:28,463 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-25 23:58:31,615 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='GuHGYIsl5uBdpBJ1TwksC5j' client_id='NAGSYA5' role='CLIENT' token='119d1dbf-e49d-4f37-8ed4-43aef247df65' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-25 23:58:31,618 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-25 23:58:31,639 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j, found: Yes
2025-06-25 23:58:31,658 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j, found: Yes
2025-06-25 23:58:31,677 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-25 23:58:31,683 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-25 23:58:33,387 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='GuHGYIsl5uBdpBJ1TwksC5j' client_id='NAGSYA5' role='CLIENT' token='119d1dbf-e49d-4f37-8ed4-43aef247df65' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='my_details', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-25 23:58:33,389 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-25 23:58:33,412 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j, found: Yes
2025-06-25 23:58:33,433 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j, found: Yes
2025-06-25 23:58:33,434 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:28:31.640682', 'history_stack': []}
2025-06-25 23:58:33,470 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:33,507 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:33,543 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:33,580 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:33,618 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:33,637 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'GuHGYIsl5uBdpBJ1TwksC5j', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '119d1dbf-e49d-4f37-8ed4-43aef247df65', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'my_details', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-25 23:58:33,656 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:33,656 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '119d1dbf-e49d-4f37-8ed4-43aef247df65', 'session_id': 'GuHGYIsl5uBdpBJ1TwksC5j', 'api_endpoint': 'my_details'}, 'last_updated': '2025-06-25T18:28:33.619340'}
2025-06-25 23:58:33,660 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: my_details
2025-06-25 23:58:33,679 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:33,680 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: my_details is 'Emod'.
2025-06-25 23:58:33,680 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: my_details
2025-06-25 23:58:33,699 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:33,700 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: my_details is 'Commodity'.
2025-06-25 23:58:33,718 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:33,719 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: my_details is 'Effective'.
2025-06-25 23:58:33,723 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : my_details
2025-06-25 23:58:33,723 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'my_details', 'id': 'my_details'}
2025-06-25 23:58:33,723 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-25 23:58:33,742 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:33,743 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '119d1dbf-e49d-4f37-8ed4-43aef247df65', 'session_id': 'GuHGYIsl5uBdpBJ1TwksC5j', 'api_endpoint': 'my_details'}, 'last_updated': '2025-06-25T18:28:33.619340'}
2025-06-25 23:58:33,743 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> GuHGYIsl5uBdpBJ1TwksC5j_client_id
2025-06-25 23:58:33,761 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_client_id, found: No
2025-06-25 23:58:33,762 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-25 23:58:33,765 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-25 23:58:33,766 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: GuHGYIsl5uBdpBJ1TwksC5j
2025-06-25 23:58:33,766 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-25 23:58:33,766 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> my_details - API ENDPOINT
2025-06-25 23:58:33,767 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'my_details' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '119d1dbf-e49d-4f37-8ed4-43aef247df65', 'session_id': 'GuHGYIsl5uBdpBJ1TwksC5j'}
2025-06-25 23:58:33,886 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'my_details': {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}]}
2025-06-25 23:58:33,887 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'my_details' call successful
2025-06-25 23:58:33,890 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}], 'action': 'result'}
2025-06-25 23:58:33,891 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}], 'action': 'result'} - RESPONSE
2025-06-25 23:58:33,891 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-25 23:58:33,893 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-25 23:58:33,932 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='GuHGYIsl5uBdpBJ1TwksC5j' client_id='NAGSYA5' role='CLIENT' token='119d1dbf-e49d-4f37-8ed4-43aef247df65' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-25 23:58:33,934 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-25 23:58:33,956 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j, found: Yes
2025-06-25 23:58:33,975 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j, found: Yes
2025-06-25 23:58:33,994 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-25 23:58:33,998 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-25 23:58:38,571 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='GuHGYIsl5uBdpBJ1TwksC5j' client_id='NAGSYA5' role='CLIENT' token='119d1dbf-e49d-4f37-8ed4-43aef247df65' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='ledger_report', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-25 23:58:38,572 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-25 23:58:38,596 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j, found: Yes
2025-06-25 23:58:38,615 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j, found: Yes
2025-06-25 23:58:38,615 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:28:33.957172', 'history_stack': []}
2025-06-25 23:58:38,652 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:38,689 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:38,726 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:38,763 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:38,800 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:38,819 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'GuHGYIsl5uBdpBJ1TwksC5j', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '119d1dbf-e49d-4f37-8ed4-43aef247df65', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'ledger_report', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-25 23:58:38,838 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:38,839 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '119d1dbf-e49d-4f37-8ed4-43aef247df65', 'session_id': 'GuHGYIsl5uBdpBJ1TwksC5j', 'from_date': None, 'to_date': None, 'exchange_seg': None, 'date_type': None, 'return_type': None, 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-25T18:28:38.801859'}
2025-06-25 23:58:38,839 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: ledger_report
2025-06-25 23:58:38,858 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:38,859 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: ledger_report is 'Emod'.
2025-06-25 23:58:38,859 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: ledger_report
2025-06-25 23:58:38,878 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:38,878 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: ledger_report is 'Commodity'.
2025-06-25 23:58:38,900 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:38,919 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: ledger_report is 'Effective'.
2025-06-25 23:58:38,919 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : ledger_report
2025-06-25 23:58:38,920 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Combine', 'text': 'Combine'}, {'id': 'MTF', 'text': 'MTF'}], 'id': 'ledger_report'}
2025-06-25 23:58:38,939 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j, found: Yes
2025-06-25 23:58:38,975 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_api_payload, found: Yes
2025-06-25 23:58:38,976 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '119d1dbf-e49d-4f37-8ed4-43aef247df65', 'session_id': 'GuHGYIsl5uBdpBJ1TwksC5j', 'from_date': None, 'to_date': None, 'exchange_seg': None, 'date_type': 'Effective', 'return_type': None, 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-25T18:28:38.900638'}
2025-06-25 23:58:38,981 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> GuHGYIsl5uBdpBJ1TwksC5j_client_id
2025-06-25 23:58:38,999 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: GuHGYIsl5uBdpBJ1TwksC5j_client_id, found: No
2025-06-25 23:58:39,001 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-25 23:58:39,002 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-25 23:58:39,002 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: GuHGYIsl5uBdpBJ1TwksC5j
2025-06-25 23:58:39,003 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-25 23:58:39,003 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> ledger_summary - API ENDPOINT
2025-06-25 23:58:39,003 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'ledger_summary' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '119d1dbf-e49d-4f37-8ed4-43aef247df65', 'session_id': 'GuHGYIsl5uBdpBJ1TwksC5j'}
2025-06-25 23:58:39,074 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'ledger_summary': {'Status': 'Success', 'Data': [{'Segment': 'Combine', 'Voucher': -1144848.37, 'Effective': -1144848.37}, {'Segment': 'MTF', 'Voucher': -498927.78, 'Effective': -498927.78}, {'Segment': 'Total', 'Voucher': -1643776.15, 'Effective': -1643776.15}]}
2025-06-25 23:58:39,075 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'ledger_summary' call successful
2025-06-25 23:58:39,081 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Segment': 'Combine', 'Voucher': -1144848.37, 'Effective': -1144848.37}, {'Segment': 'MTF', 'Voucher': -498927.78, 'Effective': -498927.78}, {'Segment': 'Total', 'Voucher': -1643776.15, 'Effective': -1643776.15}], 'action': 'result'}
2025-06-25 23:58:39,082 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Segment': 'Combine', 'Voucher': -1144848.37, 'Effective': -1144848.37}, {'Segment': 'MTF', 'Voucher': -498927.78, 'Effective': -498927.78}, {'Segment': 'Total', 'Voucher': -1643776.15, 'Effective': -1643776.15}], 'action': 'result'} - RESPONSE
2025-06-25 23:58:39,082 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-25 23:58:39,083 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> fund_transfer_link - API ENDPOINT
2025-06-25 23:58:39,083 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'fund_transfer_link' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '119d1dbf-e49d-4f37-8ed4-43aef247df65', 'session_id': 'GuHGYIsl5uBdpBJ1TwksC5j'}
2025-06-25 23:58:39,249 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'fund_transfer_link': {'Status': 'Success', 'Data': [{'Link': 'https://mofsl.co/FundTransfer.html?ccid=smmynt06/NPLHH8HNNLMBQ==&ssid=jW4H7/NIxmDQX8mzNsnYzuiaGUCKnsRTBRjAgjsdGBM=9999LxMBssR/dD7IlQ17v7Yr5dLkTdkSCxJaQHldllp4hGM='}]}
2025-06-25 23:58:39,250 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'fund_transfer_link' call successful
2025-06-25 23:58:39,254 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Link': 'https://mofsl.co/FundTransfer.html?ccid=smmynt06/NPLHH8HNNLMBQ==&ssid=jW4H7/NIxmDQX8mzNsnYzuiaGUCKnsRTBRjAgjsdGBM=9999LxMBssR/dD7IlQ17v7Yr5dLkTdkSCxJaQHldllp4hGM='}], 'action': 'result'}
2025-06-25 23:58:39,256 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Link': 'https://mofsl.co/FundTransfer.html?ccid=smmynt06/NPLHH8HNNLMBQ==&ssid=jW4H7/NIxmDQX8mzNsnYzuiaGUCKnsRTBRjAgjsdGBM=9999LxMBssR/dD7IlQ17v7Yr5dLkTdkSCxJaQHldllp4hGM='}], 'action': 'result'} - RESPONSE
2025-06-25 23:58:39,256 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-25 23:58:39,259 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-25 23:59:18,541 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='fhx3IU138SWwTc0E6K4r39e' client_id='NAGSYA5' role='CLIENT' token='1d03f39c-9571-46f1-88fe-37f913140c07' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-25 23:59:18,542 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-25 23:59:18,566 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e, found: No
2025-06-25 23:59:18,585 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e, found: No
2025-06-25 23:59:18,604 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-25 23:59:18,607 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-25 23:59:20,241 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='fhx3IU138SWwTc0E6K4r39e' client_id='NAGSYA5' role='CLIENT' token='1d03f39c-9571-46f1-88fe-37f913140c07' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='ledger_report', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-25 23:59:20,243 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-25 23:59:20,264 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e, found: Yes
2025-06-25 23:59:20,284 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e, found: Yes
2025-06-25 23:59:20,285 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:29:18.567051', 'history_stack': []}
2025-06-25 23:59:20,323 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e_api_payload, found: Yes
2025-06-25 23:59:20,359 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e_api_payload, found: Yes
2025-06-25 23:59:20,397 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e_api_payload, found: Yes
2025-06-25 23:59:20,434 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e_api_payload, found: Yes
2025-06-25 23:59:20,470 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e_api_payload, found: Yes
2025-06-25 23:59:20,489 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'fhx3IU138SWwTc0E6K4r39e', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '1d03f39c-9571-46f1-88fe-37f913140c07', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'ledger_report', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-25 23:59:20,508 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e_api_payload, found: Yes
2025-06-25 23:59:20,509 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '1d03f39c-9571-46f1-88fe-37f913140c07', 'session_id': 'fhx3IU138SWwTc0E6K4r39e', 'from_date': None, 'to_date': None, 'exchange_seg': None, 'date_type': None, 'return_type': None, 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-25T18:29:20.471949'}
2025-06-25 23:59:20,512 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: ledger_report
2025-06-25 23:59:20,530 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e_api_payload, found: Yes
2025-06-25 23:59:20,531 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: ledger_report is 'Emod'.
2025-06-25 23:59:20,531 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: ledger_report
2025-06-25 23:59:20,550 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e_api_payload, found: Yes
2025-06-25 23:59:20,550 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: ledger_report is 'Commodity'.
2025-06-25 23:59:20,573 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e_api_payload, found: Yes
2025-06-25 23:59:20,592 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: ledger_report is 'Effective'.
2025-06-25 23:59:20,592 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : ledger_report
2025-06-25 23:59:20,593 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Combine', 'text': 'Combine'}, {'id': 'MTF', 'text': 'MTF'}], 'id': 'ledger_report'}
2025-06-25 23:59:20,611 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e, found: Yes
2025-06-25 23:59:20,648 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e_api_payload, found: Yes
2025-06-25 23:59:20,649 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '1d03f39c-9571-46f1-88fe-37f913140c07', 'session_id': 'fhx3IU138SWwTc0E6K4r39e', 'from_date': None, 'to_date': None, 'exchange_seg': None, 'date_type': 'Effective', 'return_type': None, 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-25T18:29:20.574774'}
2025-06-25 23:59:20,653 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> fhx3IU138SWwTc0E6K4r39e_client_id
2025-06-25 23:59:20,671 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: fhx3IU138SWwTc0E6K4r39e_client_id, found: No
2025-06-25 23:59:20,672 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-25 23:59:20,672 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-25 23:59:20,678 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: fhx3IU138SWwTc0E6K4r39e
2025-06-25 23:59:20,678 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-25 23:59:20,679 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> ledger_summary - API ENDPOINT
2025-06-25 23:59:20,679 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'ledger_summary' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '1d03f39c-9571-46f1-88fe-37f913140c07', 'session_id': 'fhx3IU138SWwTc0E6K4r39e'}
2025-06-25 23:59:20,729 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'ledger_summary': {'Status': 'Success', 'Data': [{'Segment': 'Combine', 'Voucher': -1144848.37, 'Effective': -1144848.37}, {'Segment': 'MTF', 'Voucher': -498927.78, 'Effective': -498927.78}, {'Segment': 'Total', 'Voucher': -1643776.15, 'Effective': -1643776.15}]}
2025-06-25 23:59:20,730 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'ledger_summary' call successful
2025-06-25 23:59:20,735 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Segment': 'Combine', 'Voucher': -1144848.37, 'Effective': -1144848.37}, {'Segment': 'MTF', 'Voucher': -498927.78, 'Effective': -498927.78}, {'Segment': 'Total', 'Voucher': -1643776.15, 'Effective': -1643776.15}], 'action': 'result'}
2025-06-25 23:59:20,737 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Segment': 'Combine', 'Voucher': -1144848.37, 'Effective': -1144848.37}, {'Segment': 'MTF', 'Voucher': -498927.78, 'Effective': -498927.78}, {'Segment': 'Total', 'Voucher': -1643776.15, 'Effective': -1643776.15}], 'action': 'result'} - RESPONSE
2025-06-25 23:59:20,738 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-25 23:59:20,738 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> fund_transfer_link - API ENDPOINT
2025-06-25 23:59:20,739 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'fund_transfer_link' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '1d03f39c-9571-46f1-88fe-37f913140c07', 'session_id': 'fhx3IU138SWwTc0E6K4r39e'}
2025-06-25 23:59:20,875 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'fund_transfer_link': {'Status': 'Success', 'Data': [{'Link': 'https://mofsl.co/FundTransfer.html?ccid=smmynt06/NPLHH8HNNLMBQ==&ssid=jW4H7/NIxmDQX8mzNsnYzuiaGUCKnsRTBRjAgjsdGBM=99997x58uHlZvdS4UEsBUZXOvGRS/de8rmMm+7CR1XQop2I='}]}
2025-06-25 23:59:20,875 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'fund_transfer_link' call successful
2025-06-25 23:59:20,879 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Link': 'https://mofsl.co/FundTransfer.html?ccid=smmynt06/NPLHH8HNNLMBQ==&ssid=jW4H7/NIxmDQX8mzNsnYzuiaGUCKnsRTBRjAgjsdGBM=99997x58uHlZvdS4UEsBUZXOvGRS/de8rmMm+7CR1XQop2I='}], 'action': 'result'}
2025-06-25 23:59:20,880 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Link': 'https://mofsl.co/FundTransfer.html?ccid=smmynt06/NPLHH8HNNLMBQ==&ssid=jW4H7/NIxmDQX8mzNsnYzuiaGUCKnsRTBRjAgjsdGBM=99997x58uHlZvdS4UEsBUZXOvGRS/de8rmMm+7CR1XQop2I='}], 'action': 'result'} - RESPONSE
2025-06-25 23:59:20,880 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-25 23:59:20,881 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:00:05,091 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:00:05,094 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:00:05,117 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: No
2025-06-26 00:00:05,136 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: No
2025-06-26 00:00:05,158 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:00:05,161 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:00:06,885 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='ledger_report', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:00:06,886 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:00:06,908 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:06,927 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:06,928 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:30:05.118559', 'history_stack': []}
2025-06-26 00:00:06,965 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:07,002 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:07,039 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:07,076 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:07,113 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:07,132 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'ledger_report', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:00:07,151 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:07,152 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': None, 'to_date': None, 'exchange_seg': None, 'date_type': None, 'return_type': None, 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-25T18:30:07.113900'}
2025-06-26 00:00:07,152 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: ledger_report
2025-06-26 00:00:07,172 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:07,173 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: ledger_report is 'Emod'.
2025-06-26 00:00:07,173 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: ledger_report
2025-06-26 00:00:07,190 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:07,191 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: ledger_report is 'Commodity'.
2025-06-26 00:00:07,214 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:07,234 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: ledger_report is 'Effective'.
2025-06-26 00:00:07,235 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : ledger_report
2025-06-26 00:00:07,236 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Combine', 'text': 'Combine'}, {'id': 'MTF', 'text': 'MTF'}], 'id': 'ledger_report'}
2025-06-26 00:00:07,258 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:07,296 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:07,297 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': None, 'to_date': None, 'exchange_seg': None, 'date_type': 'Effective', 'return_type': None, 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-25T18:30:07.216026'}
2025-06-26 00:00:07,301 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> naHO7y8HNVRLc26gldJZ22C_client_id
2025-06-26 00:00:07,320 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_client_id, found: No
2025-06-26 00:00:07,320 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 00:00:07,321 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 00:00:07,321 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: naHO7y8HNVRLc26gldJZ22C
2025-06-26 00:00:07,322 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 00:00:07,322 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> ledger_summary - API ENDPOINT
2025-06-26 00:00:07,322 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'ledger_summary' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C'}
2025-06-26 00:00:07,371 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'ledger_summary': {'Status': 'Success', 'Data': [{'Segment': 'Combine', 'Voucher': -1144848.37, 'Effective': -1144848.37}, {'Segment': 'MTF', 'Voucher': -498927.78, 'Effective': -498927.78}, {'Segment': 'Total', 'Voucher': -1643776.15, 'Effective': -1643776.15}]}
2025-06-26 00:00:07,372 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'ledger_summary' call successful
2025-06-26 00:00:07,377 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Segment': 'Combine', 'Voucher': -1144848.37, 'Effective': -1144848.37}, {'Segment': 'MTF', 'Voucher': -498927.78, 'Effective': -498927.78}, {'Segment': 'Total', 'Voucher': -1643776.15, 'Effective': -1643776.15}], 'action': 'result'}
2025-06-26 00:00:07,378 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Segment': 'Combine', 'Voucher': -1144848.37, 'Effective': -1144848.37}, {'Segment': 'MTF', 'Voucher': -498927.78, 'Effective': -498927.78}, {'Segment': 'Total', 'Voucher': -1643776.15, 'Effective': -1643776.15}], 'action': 'result'} - RESPONSE
2025-06-26 00:00:07,378 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 00:00:07,379 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> fund_transfer_link - API ENDPOINT
2025-06-26 00:00:07,379 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'fund_transfer_link' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C'}
2025-06-26 00:00:07,491 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'fund_transfer_link': {'Status': 'Success', 'Data': [{'Link': 'https://mofsl.co/FundTransfer.html?ccid=smmynt06/NPLHH8HNNLMBQ==&ssid=jW4H7/NIxmDQX8mzNsnYzuiaGUCKnsRTBRjAgjsdGBM=9999UQf893zD3GbJg047QA60g1uOnyYBj6GFjgHYT97Kb90='}]}
2025-06-26 00:00:07,491 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'fund_transfer_link' call successful
2025-06-26 00:00:07,496 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Link': 'https://mofsl.co/FundTransfer.html?ccid=smmynt06/NPLHH8HNNLMBQ==&ssid=jW4H7/NIxmDQX8mzNsnYzuiaGUCKnsRTBRjAgjsdGBM=9999UQf893zD3GbJg047QA60g1uOnyYBj6GFjgHYT97Kb90='}], 'action': 'result'}
2025-06-26 00:00:07,497 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Link': 'https://mofsl.co/FundTransfer.html?ccid=smmynt06/NPLHH8HNNLMBQ==&ssid=jW4H7/NIxmDQX8mzNsnYzuiaGUCKnsRTBRjAgjsdGBM=9999UQf893zD3GbJg047QA60g1uOnyYBj6GFjgHYT97Kb90='}], 'action': 'result'} - RESPONSE
2025-06-26 00:00:07,498 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:00:07,501 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:00:15,425 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='Combine', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:00:15,426 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:00:15,448 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:15,467 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:15,468 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Combine', 'text': 'Combine'}, {'id': 'MTF', 'text': 'MTF'}], 'id': 'ledger_report'}, 'last_updated': '2025-06-25T18:30:07.240005', 'history_stack': ['initial_client']}
2025-06-26 00:00:15,488 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:15,525 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:15,563 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:15,599 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:15,637 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:15,656 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'Combine', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:00:15,675 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:15,694 mlscoringinference [INFO | chatbot_session.py : update_segment : 272] --> Statement type for click id: Combine is 'H'.
2025-06-26 00:00:15,713 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:15,714 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': None, 'to_date': None, 'exchange_seg': 'COMBINE', 'date_type': 'Effective', 'return_type': None, 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-25T18:30:15.676410'}
2025-06-26 00:00:15,714 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: Combine
2025-06-26 00:00:15,732 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:15,733 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: Combine is 'Emod'.
2025-06-26 00:00:15,735 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: Combine
2025-06-26 00:00:15,754 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:15,755 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: Combine is 'Commodity'.
2025-06-26 00:00:15,773 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:15,794 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: Combine is 'Effective'.
2025-06-26 00:00:15,794 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : Combine
2025-06-26 00:00:15,799 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Voucher', 'text': 'Voucher Date Wise'}, {'id': 'Effective', 'text': 'Effective Date wise'}], 'id': 'Combine'}
2025-06-26 00:00:15,818 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:15,836 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Voucher', 'text': 'Voucher Date Wise'}, {'id': 'Effective', 'text': 'Effective Date wise'}], 'id': 'Combine'}
2025-06-26 00:00:15,837 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:00:15,838 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:00:17,392 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='Voucher', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:00:17,393 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:00:17,413 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:17,432 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:17,433 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Voucher', 'text': 'Voucher Date Wise'}, {'id': 'Effective', 'text': 'Effective Date wise'}], 'id': 'Combine'}, 'last_updated': '2025-06-25T18:30:15.799583', 'history_stack': ['initial_client', 'ledger_report']}
2025-06-26 00:00:17,456 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:17,492 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:17,530 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:17,566 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:17,603 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:17,622 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'Voucher', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:00:17,641 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:17,641 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': None, 'to_date': None, 'exchange_seg': 'COMBINE', 'date_type': 'Effective', 'return_type': None, 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-25T18:30:17.604918'}
2025-06-26 00:00:17,646 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: Voucher
2025-06-26 00:00:17,665 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:17,665 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: Voucher is 'Emod'.
2025-06-26 00:00:17,666 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: Voucher
2025-06-26 00:00:17,684 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:17,685 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: Voucher is 'Commodity'.
2025-06-26 00:00:17,704 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:17,723 mlscoringinference [INFO | chatbot_session.py : date_type : 342] --> E-type for click id: Voucher is 'Voucher'.
2025-06-26 00:00:17,723 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : Voucher
2025-06-26 00:00:17,724 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': '3_month', 'text': '3 Months (Note:Current FY)'}, {'id': '6_month', 'text': '6 Months (Note:Current FY)'}, {'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'Voucher'}
2025-06-26 00:00:17,742 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:17,761 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': '3_month', 'text': '3 Months (Note:Current FY)'}, {'id': '6_month', 'text': '6 Months (Note:Current FY)'}, {'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'Voucher'}
2025-06-26 00:00:17,762 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:00:17,767 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:00:19,405 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='current_fy', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:00:19,409 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:00:19,429 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:19,448 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:19,449 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': '3_month', 'text': '3 Months (Note:Current FY)'}, {'id': '6_month', 'text': '6 Months (Note:Current FY)'}, {'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'Voucher'}, 'last_updated': '2025-06-25T18:30:17.724914', 'history_stack': ['initial_client', 'ledger_report', 'Combine']}
2025-06-26 00:00:19,471 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:19,507 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:19,544 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:19,582 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:19,619 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:19,639 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'current_fy', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:00:19,659 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:19,695 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:19,732 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:19,733 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': '04/01/2025', 'to_date': '03/31/2026', 'exchange_seg': 'COMBINE', 'date_type': 'Voucher', 'return_type': None, 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-25T18:30:19.696354'}
2025-06-26 00:00:19,734 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: current_fy
2025-06-26 00:00:19,752 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:19,753 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: current_fy is 'Emod'.
2025-06-26 00:00:19,758 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: current_fy
2025-06-26 00:00:19,776 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:19,777 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: current_fy is 'Commodity'.
2025-06-26 00:00:19,796 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:19,815 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: current_fy is 'Effective'.
2025-06-26 00:00:19,816 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : current_fy
2025-06-26 00:00:19,820 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'current_fy'}
2025-06-26 00:00:19,840 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:19,858 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'current_fy'}
2025-06-26 00:00:19,859 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:00:19,864 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:00:21,455 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='Link', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:00:21,456 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:00:21,479 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:21,498 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:21,499 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'current_fy'}, 'last_updated': '2025-06-25T18:30:19.821272', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher']}
2025-06-26 00:00:21,520 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:21,556 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:21,593 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:21,630 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:21,667 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:21,685 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'Link', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:00:21,705 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:21,725 mlscoringinference [INFO | chatbot_session.py : update_return_type : 304] --> Return type: Link
2025-06-26 00:00:21,744 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:21,745 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': '04/01/2025', 'to_date': '03/31/2026', 'exchange_seg': 'COMBINE', 'date_type': 'Effective', 'return_type': 'Link', 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-25T18:30:21.706140'}
2025-06-26 00:00:21,746 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: Link
2025-06-26 00:00:21,763 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:21,764 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: Link is 'Emod'.
2025-06-26 00:00:21,765 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: Link
2025-06-26 00:00:21,784 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:21,785 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: Link is 'Commodity'.
2025-06-26 00:00:21,807 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:21,826 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: Link is 'Effective'.
2025-06-26 00:00:21,826 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : Link
2025-06-26 00:00:21,827 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': ' ', 'id': 'Link'}
2025-06-26 00:00:21,827 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 00:00:21,845 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:21,846 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': '04/01/2025', 'to_date': '03/31/2026', 'exchange_seg': 'COMBINE', 'date_type': 'Effective', 'return_type': 'Link', 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-25T18:30:21.808146'}
2025-06-26 00:00:21,849 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> naHO7y8HNVRLc26gldJZ22C_client_id
2025-06-26 00:00:21,867 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_client_id, found: No
2025-06-26 00:00:21,868 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 00:00:21,868 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 00:00:21,868 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: naHO7y8HNVRLc26gldJZ22C
2025-06-26 00:00:21,868 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 00:00:21,869 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> ledger_report - API ENDPOINT
2025-06-26 00:00:21,869 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'ledger_report' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': '04/01/2025', 'to_date': '03/31/2026', 'exchange_seg': 'COMBINE', 'date_type': 'Effective', 'return_type': 'Link'}
2025-06-26 00:00:21,870 mlscoringinference [INFO | external_api_wrapper.py : get_ledger_statement : 130] --> Here is the payload data: {'userId': 'NAGSYA5', 'clientId': 'NAGSYA5', 'role': 'CLIENT', 'from_Date': '04/01/2025', 'to_Date': '03/31/2026', 'exchange_Seg': 'COMBINE', 'date_Type': 'Effective', 'return_Type': 'Link'}
2025-06-26 00:00:22,071 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'ledger_report': {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=B10B30E92745'}
2025-06-26 00:00:22,071 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'ledger_report' call successful
2025-06-26 00:00:22,075 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=B10B30E92745', 'action': 'result'}
2025-06-26 00:00:22,075 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=B10B30E92745', 'action': 'result'} - RESPONSE
2025-06-26 00:00:22,076 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:00:22,077 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:00:22,109 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:00:22,111 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:00:22,132 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:22,153 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:22,173 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:00:22,175 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:00:28,445 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='my_details', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:00:28,446 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:00:28,469 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:28,489 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:28,490 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:30:22.135717', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher', 'current_fy']}
2025-06-26 00:00:28,527 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:28,566 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:28,604 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:28,641 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:28,679 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:28,698 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'my_details', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:00:28,716 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:28,717 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'api_endpoint': 'my_details'}, 'last_updated': '2025-06-25T18:30:28.680084'}
2025-06-26 00:00:28,717 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: my_details
2025-06-26 00:00:28,736 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:28,737 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: my_details is 'Emod'.
2025-06-26 00:00:28,737 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: my_details
2025-06-26 00:00:28,756 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:28,758 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: my_details is 'Commodity'.
2025-06-26 00:00:28,777 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:28,778 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: my_details is 'Effective'.
2025-06-26 00:00:28,781 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : my_details
2025-06-26 00:00:28,781 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'my_details', 'id': 'my_details'}
2025-06-26 00:00:28,781 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 00:00:28,800 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:28,801 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'api_endpoint': 'my_details'}, 'last_updated': '2025-06-25T18:30:28.680084'}
2025-06-26 00:00:28,801 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> naHO7y8HNVRLc26gldJZ22C_client_id
2025-06-26 00:00:28,820 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_client_id, found: No
2025-06-26 00:00:28,822 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 00:00:28,826 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 00:00:28,826 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: naHO7y8HNVRLc26gldJZ22C
2025-06-26 00:00:28,827 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 00:00:28,827 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> my_details - API ENDPOINT
2025-06-26 00:00:28,827 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'my_details' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C'}
2025-06-26 00:00:28,918 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'my_details': {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}]}
2025-06-26 00:00:28,919 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'my_details' call successful
2025-06-26 00:00:28,923 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}], 'action': 'result'}
2025-06-26 00:00:28,924 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}], 'action': 'result'} - RESPONSE
2025-06-26 00:00:28,924 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:00:28,927 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:00:28,962 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:00:28,964 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:00:28,986 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:29,008 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:29,026 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:00:29,031 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:00:31,340 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='dp_statement', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:00:31,342 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:00:31,362 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:31,384 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:31,385 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:30:28.990028', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher', 'current_fy']}
2025-06-26 00:00:31,423 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:31,460 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:31,498 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:31,534 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:31,572 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:31,590 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'dp_statement', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:00:31,609 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:31,610 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': None, 'to_date': None, 'statement_type': None, 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-25T18:30:31.573065'}
2025-06-26 00:00:31,611 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: dp_statement
2025-06-26 00:00:31,629 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:31,630 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: dp_statement is 'Emod'.
2025-06-26 00:00:31,630 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: dp_statement
2025-06-26 00:00:31,649 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:31,650 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: dp_statement is 'Commodity'.
2025-06-26 00:00:31,672 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:31,673 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: dp_statement is 'Effective'.
2025-06-26 00:00:31,674 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : dp_statement
2025-06-26 00:00:31,674 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}
2025-06-26 00:00:31,693 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:31,712 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}
2025-06-26 00:00:31,713 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:00:31,719 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:00:34,950 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='transaction_statement', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:00:34,953 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:00:34,974 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:34,992 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:34,993 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}, 'last_updated': '2025-06-25T18:30:31.674846', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher', 'current_fy', 'initial_client']}
2025-06-26 00:00:35,011 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:35,048 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:35,085 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:35,123 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:35,159 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:35,178 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'transaction_statement', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:00:35,198 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:35,217 mlscoringinference [INFO | chatbot_session.py : update_statement_type : 315] --> Statement type for click id: transaction_statement is 'T'.
2025-06-26 00:00:35,236 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:35,237 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': None, 'to_date': None, 'statement_type': 'T', 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-25T18:30:35.199065'}
2025-06-26 00:00:35,242 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: transaction_statement
2025-06-26 00:00:35,260 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:35,260 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: transaction_statement is 'Emod'.
2025-06-26 00:00:35,262 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: transaction_statement
2025-06-26 00:00:35,280 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:35,281 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: transaction_statement is 'Commodity'.
2025-06-26 00:00:35,299 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:35,299 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: transaction_statement is 'Effective'.
2025-06-26 00:00:35,303 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : transaction_statement
2025-06-26 00:00:35,304 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'midapi', 'endpoint': '', 'id': 'transaction_statement'}
2025-06-26 00:00:35,322 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:00:35,323 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': None, 'to_date': None, 'statement_type': 'T', 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-25T18:30:35.199065'}
2025-06-26 00:00:35,323 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> naHO7y8HNVRLc26gldJZ22C_client_id
2025-06-26 00:00:35,342 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_client_id, found: No
2025-06-26 00:00:35,343 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 00:00:35,343 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 00:00:35,348 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: naHO7y8HNVRLc26gldJZ22C
2025-06-26 00:00:35,368 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:00:35,387 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_mid_stage_api : 112] --> Calling mid-stage endpoint 'transaction_statement' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C'}
2025-06-26 00:00:35,448 mlscoringinference [CRITICAL | endpoint_api_handler.py : handle_mid_stage_api : 124] --> Error in mid-stage call 'transaction_statement': 'NoneType' object has no attribute 'lower'
Traceback (most recent call last):
  File "D:\mofsl-wmchatbot-repo\chatbot_backend\engine\api_handlers\endpoint_api_handler.py", line 117, in handle_mid_stage_api
    if raw_message.lower() in ["yes", "no"]:
AttributeError: 'NoneType' object has no attribute 'lower'
2025-06-26 00:00:35,450 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:00:35,454 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:01:34,039 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:01:34,040 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:01:34,061 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:34,080 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:34,099 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:01:34,101 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:01:36,941 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='brokerage_report', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:01:36,943 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:01:36,964 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:36,982 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:36,983 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:31:34.062903', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher', 'current_fy', 'initial_client', 'dp_statement', 'transaction_statement']}
2025-06-26 00:01:37,020 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:37,057 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:37,094 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:37,130 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:37,167 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:37,186 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'brokerage_report', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:01:37,205 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:37,207 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'api_endpoint': 'brokerage_report'}, 'last_updated': '2025-06-25T18:31:37.168347'}
2025-06-26 00:01:37,207 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: brokerage_report
2025-06-26 00:01:37,226 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:37,227 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: brokerage_report is 'Emod'.
2025-06-26 00:01:37,231 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: brokerage_report
2025-06-26 00:01:37,250 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:37,251 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: brokerage_report is 'Commodity'.
2025-06-26 00:01:37,269 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:37,270 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: brokerage_report is 'Effective'.
2025-06-26 00:01:37,270 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : brokerage_report
2025-06-26 00:01:37,271 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'brokerage_report', 'id': 'brokerage_report'}
2025-06-26 00:01:37,271 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 00:01:37,289 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:37,289 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'api_endpoint': 'brokerage_report'}, 'last_updated': '2025-06-25T18:31:37.168347'}
2025-06-26 00:01:37,292 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> naHO7y8HNVRLc26gldJZ22C_client_id
2025-06-26 00:01:37,311 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_client_id, found: No
2025-06-26 00:01:37,312 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 00:01:37,312 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 00:01:37,313 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: naHO7y8HNVRLc26gldJZ22C
2025-06-26 00:01:37,313 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 00:01:37,314 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> brokerage_report - API ENDPOINT
2025-06-26 00:01:37,314 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'brokerage_report' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C'}
2025-06-26 00:01:37,475 mlscoringinference [INFO | external_api_wrapper.py : get_brokerage_statement : 170] --> <Response [200]> - BROKERAGE REPORT
2025-06-26 00:01:37,479 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'brokerage_report': {'Status': 'Success', 'Data': {'Table1': [{'Equity': 'Trading', 'Description': '50395|TRD(0.03%-0%)M3P              '}, {'Equity': 'Delivery', 'Description': '4857|DEL(0.3%)M3P                  '}], 'Table2': [{'Derivative': 'Future', 'Description': ''}, {'Derivative': 'Future', 'Description': '41426|TRD(0.04% - 0%) M1P      '}, {'Derivative': 'Option', 'Description': '2|BRKG ON LOT'}, {'Derivative': 'Option', 'Description': '22|40_LOT'}, {'Derivative': 'Option', 'Description': '7|EXCEPT_NIFTY_60/LOT'}, {'Derivative': 'Ex/Asgn', 'Description': ''}], 'Table3': [], 'Table4': [], 'Table5': [{'MF Tariff': 'Purchase Profile', 'Description': '1003 Default 0% charge buy profile'}, {'MF Tariff': 'Redemption Profile', 'Description': '1004 Default 0% charge sell profile'}]}}
2025-06-26 00:01:37,480 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'brokerage_report' call successful
2025-06-26 00:01:37,480 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': {'Table1': [{'Equity': 'Trading', 'Description': '50395|TRD(0.03%-0%)M3P              '}, {'Equity': 'Delivery', 'Description': '4857|DEL(0.3%)M3P                  '}], 'Table2': [{'Derivative': 'Future', 'Description': ''}, {'Derivative': 'Future', 'Description': '41426|TRD(0.04% - 0%) M1P      '}, {'Derivative': 'Option', 'Description': '2|BRKG ON LOT'}, {'Derivative': 'Option', 'Description': '22|40_LOT'}, {'Derivative': 'Option', 'Description': '7|EXCEPT_NIFTY_60/LOT'}, {'Derivative': 'Ex/Asgn', 'Description': ''}], 'Table3': [], 'Table4': [], 'Table5': [{'MF Tariff': 'Purchase Profile', 'Description': '1003 Default 0% charge buy profile'}, {'MF Tariff': 'Redemption Profile', 'Description': '1004 Default 0% charge sell profile'}]}, 'action': 'result'}
2025-06-26 00:01:37,481 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': {'Table1': [{'Equity': 'Trading', 'Description': '50395|TRD(0.03%-0%)M3P              '}, {'Equity': 'Delivery', 'Description': '4857|DEL(0.3%)M3P                  '}], 'Table2': [{'Derivative': 'Future', 'Description': ''}, {'Derivative': 'Future', 'Description': '41426|TRD(0.04% - 0%) M1P      '}, {'Derivative': 'Option', 'Description': '2|BRKG ON LOT'}, {'Derivative': 'Option', 'Description': '22|40_LOT'}, {'Derivative': 'Option', 'Description': '7|EXCEPT_NIFTY_60/LOT'}, {'Derivative': 'Ex/Asgn', 'Description': ''}], 'Table3': [], 'Table4': [], 'Table5': [{'MF Tariff': 'Purchase Profile', 'Description': '1003 Default 0% charge buy profile'}, {'MF Tariff': 'Redemption Profile', 'Description': '1004 Default 0% charge sell profile'}]}, 'action': 'result'} - RESPONSE
2025-06-26 00:01:37,481 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:01:37,483 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:01:37,514 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:01:37,517 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:01:37,535 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:37,554 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:37,573 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:01:37,575 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:01:44,288 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='available_margin', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:01:44,291 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:01:44,314 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:44,334 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:44,334 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:31:37.536517', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher', 'current_fy', 'initial_client', 'dp_statement', 'transaction_statement']}
2025-06-26 00:01:44,372 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:44,410 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:44,447 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:44,484 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:44,521 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:44,540 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'available_margin', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:01:44,558 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:44,560 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'api_endpoint': 'available_margin'}, 'last_updated': '2025-06-25T18:31:44.522848'}
2025-06-26 00:01:44,562 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: available_margin
2025-06-26 00:01:44,581 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:44,582 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: available_margin is 'Emod'.
2025-06-26 00:01:44,582 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: available_margin
2025-06-26 00:01:44,601 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:44,602 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: available_margin is 'Commodity'.
2025-06-26 00:01:44,620 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:44,622 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: available_margin is 'Effective'.
2025-06-26 00:01:44,626 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : available_margin
2025-06-26 00:01:44,627 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'available_margin', 'id': 'available_margin'}
2025-06-26 00:01:44,628 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 00:01:44,646 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:44,647 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'api_endpoint': 'available_margin'}, 'last_updated': '2025-06-25T18:31:44.522848'}
2025-06-26 00:01:44,647 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> naHO7y8HNVRLc26gldJZ22C_client_id
2025-06-26 00:01:44,666 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_client_id, found: No
2025-06-26 00:01:44,667 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 00:01:44,671 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 00:01:44,672 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: naHO7y8HNVRLc26gldJZ22C
2025-06-26 00:01:44,672 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 00:01:44,673 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> available_margin - API ENDPOINT
2025-06-26 00:01:44,673 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'available_margin' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C'}
2025-06-26 00:01:44,781 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'available_margin': {'Status': 'Success', 'Data': [{'EquityData': 'Real-Time Combined MARGIN for F&O and Currency Segment is 17742694.88', 'Shortfall': ''}]}
2025-06-26 00:01:44,782 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'available_margin' call successful
2025-06-26 00:01:44,786 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'EquityData': 'Real-Time Combined MARGIN for F&O and Currency Segment is 17742694.88', 'Shortfall': ''}], 'action': 'result'}
2025-06-26 00:01:44,787 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'EquityData': 'Real-Time Combined MARGIN for F&O and Currency Segment is 17742694.88', 'Shortfall': ''}], 'action': 'result'} - RESPONSE
2025-06-26 00:01:44,789 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:01:44,792 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:01:44,835 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:01:44,837 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:01:44,857 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:44,876 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:44,895 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:01:44,898 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:01:49,741 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='tds_certificate', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:01:49,743 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:01:49,764 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:49,783 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:49,784 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:31:44.857961', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher', 'current_fy', 'initial_client', 'dp_statement', 'transaction_statement']}
2025-06-26 00:01:49,823 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:49,861 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:49,898 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:49,935 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:49,971 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:49,990 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'tds_certificate', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:01:50,010 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:50,011 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'api_endpoint': 'tds_certificate'}, 'last_updated': '2025-06-25T18:31:49.972704'}
2025-06-26 00:01:50,011 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: tds_certificate
2025-06-26 00:01:50,030 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:50,030 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: tds_certificate is 'Emod'.
2025-06-26 00:01:50,033 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: tds_certificate
2025-06-26 00:01:50,051 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:50,052 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: tds_certificate is 'Commodity'.
2025-06-26 00:01:50,070 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:50,071 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: tds_certificate is 'Effective'.
2025-06-26 00:01:50,071 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : tds_certificate
2025-06-26 00:01:50,072 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'tds_certificate', 'id': 'tds_certificate'}
2025-06-26 00:01:50,072 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 00:01:50,091 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:50,092 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'api_endpoint': 'tds_certificate'}, 'last_updated': '2025-06-25T18:31:49.972704'}
2025-06-26 00:01:50,095 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> naHO7y8HNVRLc26gldJZ22C_client_id
2025-06-26 00:01:50,112 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_client_id, found: No
2025-06-26 00:01:50,113 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 00:01:50,113 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 00:01:50,113 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: naHO7y8HNVRLc26gldJZ22C
2025-06-26 00:01:50,114 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 00:01:50,114 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> tds_certificate - API ENDPOINT
2025-06-26 00:01:50,114 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'tds_certificate' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C'}
2025-06-26 00:01:50,230 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'tds_certificate': {'Status': 'Success', 'Data': [{'Link': 'https://prd.motilaloswal.com/mofslwebsite/TDS_Certificate/TDSCertificate.aspx'}]}
2025-06-26 00:01:50,231 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'tds_certificate' call successful
2025-06-26 00:01:50,235 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Link': 'https://prd.motilaloswal.com/mofslwebsite/TDS_Certificate/TDSCertificate.aspx'}], 'action': 'result'}
2025-06-26 00:01:50,236 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Link': 'https://prd.motilaloswal.com/mofslwebsite/TDS_Certificate/TDSCertificate.aspx'}], 'action': 'result'} - RESPONSE
2025-06-26 00:01:50,237 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:01:50,238 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:01:50,271 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:01:50,272 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:01:50,293 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:50,312 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:50,332 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:01:50,334 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:01:57,956 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='my_dashboard', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:01:57,957 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:01:57,979 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:57,998 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:01:57,999 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:31:50.293860', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher', 'current_fy', 'initial_client', 'dp_statement', 'transaction_statement']}
2025-06-26 00:01:58,035 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:58,072 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:58,109 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:58,146 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:58,183 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:58,201 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'my_dashboard', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:01:58,220 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:58,221 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'api_endpoint': 'my_dashboard'}, 'last_updated': '2025-06-25T18:31:58.184189'}
2025-06-26 00:01:58,225 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: my_dashboard
2025-06-26 00:01:58,244 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:58,245 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: my_dashboard is 'Emod'.
2025-06-26 00:01:58,246 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: my_dashboard
2025-06-26 00:01:58,264 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:58,265 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: my_dashboard is 'Commodity'.
2025-06-26 00:01:58,284 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:58,285 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: my_dashboard is 'Effective'.
2025-06-26 00:01:58,288 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : my_dashboard
2025-06-26 00:01:58,289 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'my_dashboard', 'id': 'my_dashboard'}
2025-06-26 00:01:58,289 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 00:01:58,308 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:01:58,308 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'api_endpoint': 'my_dashboard'}, 'last_updated': '2025-06-25T18:31:58.184189'}
2025-06-26 00:01:58,309 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> naHO7y8HNVRLc26gldJZ22C_client_id
2025-06-26 00:01:58,328 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_client_id, found: No
2025-06-26 00:01:58,329 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 00:01:58,333 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 00:01:58,334 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: naHO7y8HNVRLc26gldJZ22C
2025-06-26 00:01:58,334 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 00:01:58,335 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> my_dashboard - API ENDPOINT
2025-06-26 00:01:58,335 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'my_dashboard' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C'}
2025-06-26 00:02:02,372 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'my_dashboard': {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=4AAD76108BE2'}
2025-06-26 00:02:02,373 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'my_dashboard' call successful
2025-06-26 00:02:02,377 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=4AAD76108BE2', 'action': 'result'}
2025-06-26 00:02:02,378 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=4AAD76108BE2', 'action': 'result'} - RESPONSE
2025-06-26 00:02:02,378 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:02:02,379 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:02:02,421 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:02:02,423 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:02:02,445 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:02,465 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:02,488 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:02:02,490 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:02:07,728 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='emodification', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:02:07,730 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:02:07,753 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:07,772 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:07,772 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:32:02.446728', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher', 'current_fy', 'initial_client', 'dp_statement', 'transaction_statement']}
2025-06-26 00:02:07,809 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:07,845 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:07,882 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:07,920 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:07,956 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:07,975 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'emodification', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:02:07,994 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:07,994 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'type': None, 'api_endpoint': 'emodification'}, 'last_updated': '2025-06-25T18:32:07.957843'}
2025-06-26 00:02:07,995 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: emodification
2025-06-26 00:02:08,013 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:08,032 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: emodification is 'Emod'.
2025-06-26 00:02:08,033 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: emodification
2025-06-26 00:02:08,054 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:08,055 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: emodification is 'Commodity'.
2025-06-26 00:02:08,075 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:08,076 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: emodification is 'Effective'.
2025-06-26 00:02:08,080 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : emodification
2025-06-26 00:02:08,081 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'email_and_mobile', 'text': 'Email and Mobile'}, {'id': 'address', 'text': 'Address'}, {'id': 'bank', 'text': 'Bank'}, {'id': 'nominee', 'text': 'Nominee/Income Range'}], 'id': 'emodification'}
2025-06-26 00:02:08,099 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:08,119 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'email_and_mobile', 'text': 'Email and Mobile'}, {'id': 'address', 'text': 'Address'}, {'id': 'bank', 'text': 'Bank'}, {'id': 'nominee', 'text': 'Nominee/Income Range'}], 'id': 'emodification'}
2025-06-26 00:02:08,120 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:02:08,126 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:02:14,726 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='email_and_mobile', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:02:14,729 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:02:14,752 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:14,770 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:14,771 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'email_and_mobile', 'text': 'Email and Mobile'}, {'id': 'address', 'text': 'Address'}, {'id': 'bank', 'text': 'Bank'}, {'id': 'nominee', 'text': 'Nominee/Income Range'}], 'id': 'emodification'}, 'last_updated': '2025-06-25T18:32:08.081446', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher', 'current_fy', 'initial_client', 'dp_statement', 'transaction_statement', 'initial_client']}
2025-06-26 00:02:14,792 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:14,829 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:14,866 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:14,904 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:14,941 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:14,960 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'email_and_mobile', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:02:14,978 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:14,979 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'type': 'Emod', 'api_endpoint': 'emodification'}, 'last_updated': '2025-06-25T18:32:14.942113'}
2025-06-26 00:02:14,979 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: email_and_mobile
2025-06-26 00:02:14,998 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:15,017 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: email_and_mobile is 'Emod'.
2025-06-26 00:02:15,018 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: email_and_mobile
2025-06-26 00:02:15,040 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:15,041 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: email_and_mobile is 'Commodity'.
2025-06-26 00:02:15,060 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:15,061 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: email_and_mobile is 'Effective'.
2025-06-26 00:02:15,065 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : email_and_mobile
2025-06-26 00:02:15,066 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'emodification', 'id': 'email_and_mobile'}
2025-06-26 00:02:15,066 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 00:02:15,085 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:15,086 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'type': 'Emod', 'api_endpoint': 'emodification'}, 'last_updated': '2025-06-25T18:32:14.998997'}
2025-06-26 00:02:15,086 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> naHO7y8HNVRLc26gldJZ22C_client_id
2025-06-26 00:02:15,104 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_client_id, found: No
2025-06-26 00:02:15,105 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 00:02:15,105 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 00:02:15,109 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: naHO7y8HNVRLc26gldJZ22C
2025-06-26 00:02:15,109 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 00:02:15,110 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> emodification - API ENDPOINT
2025-06-26 00:02:15,110 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'emodification' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'type': 'Emod'}
2025-06-26 00:02:15,597 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'emodification': {'Status': 'Success', 'Data': [{'Message': 'https://ekycuat.motilaloswaluat.com/EMOD/EMODIFICATION/HOME?GUID=64758685-9A51-4636-B400-99BD668000C3'}]}
2025-06-26 00:02:15,599 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'emodification' call successful
2025-06-26 00:02:15,601 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Message': 'https://ekycuat.motilaloswaluat.com/EMOD/EMODIFICATION/HOME?GUID=64758685-9A51-4636-B400-99BD668000C3'}], 'action': 'result'}
2025-06-26 00:02:15,602 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Message': 'https://ekycuat.motilaloswaluat.com/EMOD/EMODIFICATION/HOME?GUID=64758685-9A51-4636-B400-99BD668000C3'}], 'action': 'result'} - RESPONSE
2025-06-26 00:02:15,602 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:02:15,604 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:02:15,646 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:02:15,648 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:02:15,669 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:15,689 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:15,708 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:02:15,713 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:02:25,294 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='mf_status', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:02:25,296 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:02:25,317 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:25,335 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:25,336 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:32:15.671406', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher', 'current_fy', 'initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'emodification']}
2025-06-26 00:02:25,373 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:25,410 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:25,446 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:25,483 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:25,520 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:25,539 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'mf_status', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:02:25,559 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:25,559 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'order_type': None, 'api_endpoint': 'mf_status'}, 'last_updated': '2025-06-25T18:32:25.521487'}
2025-06-26 00:02:25,560 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: mf_status
2025-06-26 00:02:25,578 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:25,579 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: mf_status is 'Emod'.
2025-06-26 00:02:25,583 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: mf_status
2025-06-26 00:02:25,601 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:25,602 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: mf_status is 'Commodity'.
2025-06-26 00:02:25,620 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:25,621 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: mf_status is 'Effective'.
2025-06-26 00:02:25,622 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : mf_status
2025-06-26 00:02:25,622 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'sip', 'text': 'SIP'}, {'id': 'xsip', 'text': 'XSIP'}, {'id': 'isip', 'text': 'ISIP'}, {'id': 'fp', 'text': 'Lumpsum'}, {'id': 'mn', 'text': 'Mandate'}], 'id': 'mf_status'}
2025-06-26 00:02:25,641 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:25,660 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'sip', 'text': 'SIP'}, {'id': 'xsip', 'text': 'XSIP'}, {'id': 'isip', 'text': 'ISIP'}, {'id': 'fp', 'text': 'Lumpsum'}, {'id': 'mn', 'text': 'Mandate'}], 'id': 'mf_status'}
2025-06-26 00:02:25,661 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:02:25,662 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:02:28,027 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='sip', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:02:28,029 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:02:28,049 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:28,067 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:28,068 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'sip', 'text': 'SIP'}, {'id': 'xsip', 'text': 'XSIP'}, {'id': 'isip', 'text': 'ISIP'}, {'id': 'fp', 'text': 'Lumpsum'}, {'id': 'mn', 'text': 'Mandate'}], 'id': 'mf_status'}, 'last_updated': '2025-06-25T18:32:25.623720', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher', 'current_fy', 'initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'emodification', 'initial_client']}
2025-06-26 00:02:28,089 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:28,128 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:28,165 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:28,202 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:28,239 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:28,259 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'sip', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:02:28,277 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:28,278 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'order_type': None, 'api_endpoint': 'mf_status'}, 'last_updated': '2025-06-25T18:32:28.240945'}
2025-06-26 00:02:28,299 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:28,318 mlscoringinference [INFO | chatbot_session.py : order_type : 404] --> Segment type for click id: sip is 'SIP'.
2025-06-26 00:02:28,337 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:28,338 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: sip is 'Emod'.
2025-06-26 00:02:28,342 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: sip
2025-06-26 00:02:28,360 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:28,360 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: sip is 'Commodity'.
2025-06-26 00:02:28,380 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:28,380 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: sip is 'Effective'.
2025-06-26 00:02:28,381 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : sip
2025-06-26 00:02:28,382 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'mf_status', 'id': 'sip'}
2025-06-26 00:02:28,382 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 00:02:28,401 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:28,401 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'order_type': 'SIP', 'api_endpoint': 'mf_status'}, 'last_updated': '2025-06-25T18:32:28.300530'}
2025-06-26 00:02:28,404 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> naHO7y8HNVRLc26gldJZ22C_client_id
2025-06-26 00:02:28,422 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_client_id, found: No
2025-06-26 00:02:28,423 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 00:02:28,423 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 00:02:28,424 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: naHO7y8HNVRLc26gldJZ22C
2025-06-26 00:02:28,424 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 00:02:28,425 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> mf_status - API ENDPOINT
2025-06-26 00:02:28,425 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'mf_status' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'order_type': 'SIP'}
2025-06-26 00:02:28,563 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'mf_status': {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=4842A4F89E1A'}
2025-06-26 00:02:28,564 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'mf_status' call successful
2025-06-26 00:02:28,568 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=4842A4F89E1A', 'action': 'result'}
2025-06-26 00:02:28,569 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=4842A4F89E1A', 'action': 'result'} - RESPONSE
2025-06-26 00:02:28,569 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:02:28,571 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:02:28,610 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:02:28,611 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:02:28,632 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:28,651 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:28,670 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:02:28,674 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:02:36,084 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='margin_shortage', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:02:36,086 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:02:36,107 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:36,126 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:36,127 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-25T18:32:28.633275', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher', 'current_fy', 'initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'emodification', 'initial_client', 'mf_status']}
2025-06-26 00:02:36,164 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:36,201 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:36,238 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:36,275 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:36,313 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:36,331 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'margin_shortage', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:02:36,351 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:36,351 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': None, 'to_date': None, 'api_endpoint': 'margin_shortage'}, 'last_updated': '2025-06-25T18:32:36.313934'}
2025-06-26 00:02:36,352 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: margin_shortage
2025-06-26 00:02:36,370 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:36,372 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: margin_shortage is 'Emod'.
2025-06-26 00:02:36,372 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: margin_shortage
2025-06-26 00:02:36,391 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:36,392 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: margin_shortage is 'Commodity'.
2025-06-26 00:02:36,414 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:36,415 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: margin_shortage is 'Effective'.
2025-06-26 00:02:36,415 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : margin_shortage
2025-06-26 00:02:36,416 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'margin_shortage'}
2025-06-26 00:02:36,434 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:36,454 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'margin_shortage'}
2025-06-26 00:02:36,455 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:02:36,457 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:02:38,639 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='current_fy', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:02:38,642 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:02:38,662 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:38,681 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:38,682 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'margin_shortage'}, 'last_updated': '2025-06-25T18:32:36.416054', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher', 'current_fy', 'initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'emodification', 'initial_client', 'mf_status', 'initial_client']}
2025-06-26 00:02:38,700 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:38,737 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:38,774 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:38,812 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:38,849 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:38,868 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'current_fy', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:02:38,887 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:38,926 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:38,963 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:38,964 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': '04/01/2025', 'to_date': '03/31/2026', 'api_endpoint': 'margin_shortage'}, 'last_updated': '2025-06-25T18:32:38.927065'}
2025-06-26 00:02:38,968 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: current_fy
2025-06-26 00:02:38,987 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:38,991 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: current_fy is 'Emod'.
2025-06-26 00:02:38,992 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: current_fy
2025-06-26 00:02:39,010 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:39,012 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: current_fy is 'Commodity'.
2025-06-26 00:02:39,030 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:39,031 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: current_fy is 'Effective'.
2025-06-26 00:02:39,031 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : current_fy
2025-06-26 00:02:39,032 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'current_fy'}
2025-06-26 00:02:39,053 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:39,072 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'current_fy'}
2025-06-26 00:02:39,073 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:02:39,075 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:02:41,887 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='Link', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 00:02:41,888 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 00:02:41,909 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:41,927 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: Yes
2025-06-26 00:02:41,928 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'current_fy'}, 'last_updated': '2025-06-25T18:32:39.035104', 'history_stack': ['initial_client', 'ledger_report', 'Combine', 'Voucher', 'current_fy', 'initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'emodification', 'initial_client', 'mf_status', 'initial_client', 'margin_shortage']}
2025-06-26 00:02:41,946 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:41,983 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:42,020 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:42,058 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:42,097 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:42,117 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'Link', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 00:02:42,136 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:42,137 mlscoringinference [INFO | chatbot_session.py : update_return_type : 304] --> Return type: Link
2025-06-26 00:02:42,155 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:42,157 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': '04/01/2025', 'to_date': '03/31/2026', 'api_endpoint': 'margin_shortage'}, 'last_updated': '2025-06-25T18:32:42.099028'}
2025-06-26 00:02:42,160 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: Link
2025-06-26 00:02:42,178 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:42,179 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: Link is 'Emod'.
2025-06-26 00:02:42,179 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: Link
2025-06-26 00:02:42,197 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:42,198 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: Link is 'Commodity'.
2025-06-26 00:02:42,217 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:42,217 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: Link is 'Effective'.
2025-06-26 00:02:42,221 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : Link
2025-06-26 00:02:42,222 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': ' ', 'id': 'Link'}
2025-06-26 00:02:42,222 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 00:02:42,240 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_api_payload, found: Yes
2025-06-26 00:02:42,241 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': '04/01/2025', 'to_date': '03/31/2026', 'api_endpoint': 'margin_shortage'}, 'last_updated': '2025-06-25T18:32:42.099028'}
2025-06-26 00:02:42,241 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> naHO7y8HNVRLc26gldJZ22C_client_id
2025-06-26 00:02:42,260 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C_client_id, found: No
2025-06-26 00:02:42,261 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 00:02:42,265 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 00:02:42,265 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: naHO7y8HNVRLc26gldJZ22C
2025-06-26 00:02:42,266 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 00:02:42,266 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> margin_shortage - API ENDPOINT
2025-06-26 00:02:42,266 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'margin_shortage' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '0b5b677c-89e2-4ea9-a8e8-38cd5af65878', 'session_id': 'naHO7y8HNVRLc26gldJZ22C', 'from_date': '04/01/2025', 'to_date': '03/31/2026'}
2025-06-26 00:02:42,506 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'margin_shortage': {'Status': 'Failure', 'Message': 'No data found'}
2025-06-26 00:02:42,506 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'margin_shortage' call successful
2025-06-26 00:02:42,511 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Failure', 'Message': 'No data found', 'action': 'result'}
2025-06-26 00:02:42,511 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Failure', 'Message': 'No data found', 'action': 'result'} - RESPONSE
2025-06-26 00:02:42,511 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 00:02:42,512 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 00:03:17,271 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='naHO7y8HNVRLc26gldJZ22C' client_id='NAGSYA5' role='CLIENT' token='0b5b677c-89e2-4ea9-a8e8-38cd5af65878' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 09:39:52,386 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 09:39:52,411 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: No
2025-06-26 09:39:52,434 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: naHO7y8HNVRLc26gldJZ22C, found: No
2025-06-26 09:39:52,457 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 09:39:52,459 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 09:39:52,557 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='mbDv8TgY7iIMtbpKUbnSzHl' client_id='NAGSYA5' role='CLIENT' token='5f53b93c-1760-4623-ba8e-565df7e489e3' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 09:39:52,558 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 09:39:52,580 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl, found: No
2025-06-26 09:39:52,599 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl, found: No
2025-06-26 09:39:52,618 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 09:39:52,620 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 09:40:09,418 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='mbDv8TgY7iIMtbpKUbnSzHl' client_id='NAGSYA5' role='CLIENT' token='5f53b93c-1760-4623-ba8e-565df7e489e3' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='dp_statement', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 09:40:09,419 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 09:40:09,442 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl, found: Yes
2025-06-26 09:40:09,461 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl, found: Yes
2025-06-26 09:40:09,462 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T04:09:52.581674', 'history_stack': []}
2025-06-26 09:40:09,499 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:09,537 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:09,574 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:09,613 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:09,650 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:09,669 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'mbDv8TgY7iIMtbpKUbnSzHl', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '5f53b93c-1760-4623-ba8e-565df7e489e3', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'dp_statement', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 09:40:09,689 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:09,689 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '5f53b93c-1760-4623-ba8e-565df7e489e3', 'session_id': 'mbDv8TgY7iIMtbpKUbnSzHl', 'from_date': None, 'to_date': None, 'statement_type': None, 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-26T04:10:09.651340'}
2025-06-26 09:40:09,690 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: dp_statement
2025-06-26 09:40:09,709 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:09,710 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: dp_statement is 'Emod'.
2025-06-26 09:40:09,710 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: dp_statement
2025-06-26 09:40:09,728 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:09,729 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: dp_statement is 'Commodity'.
2025-06-26 09:40:09,752 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:09,752 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: dp_statement is 'Effective'.
2025-06-26 09:40:09,754 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : dp_statement
2025-06-26 09:40:09,754 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}
2025-06-26 09:40:09,773 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl, found: Yes
2025-06-26 09:40:09,793 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}
2025-06-26 09:40:09,794 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 09:40:09,797 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 09:40:11,724 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='mbDv8TgY7iIMtbpKUbnSzHl' client_id='NAGSYA5' role='CLIENT' token='5f53b93c-1760-4623-ba8e-565df7e489e3' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='transaction_statement', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 09:40:11,725 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 09:40:11,745 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl, found: Yes
2025-06-26 09:40:11,764 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl, found: Yes
2025-06-26 09:40:11,765 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}, 'last_updated': '2025-06-26T04:10:09.755309', 'history_stack': ['initial_client']}
2025-06-26 09:40:11,784 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:11,821 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:11,858 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:11,895 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:11,932 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:11,951 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': 'mbDv8TgY7iIMtbpKUbnSzHl', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '5f53b93c-1760-4623-ba8e-565df7e489e3', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'transaction_statement', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 09:40:11,970 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:11,989 mlscoringinference [INFO | chatbot_session.py : update_statement_type : 315] --> Statement type for click id: transaction_statement is 'T'.
2025-06-26 09:40:12,008 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:12,008 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '5f53b93c-1760-4623-ba8e-565df7e489e3', 'session_id': 'mbDv8TgY7iIMtbpKUbnSzHl', 'from_date': None, 'to_date': None, 'statement_type': 'T', 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-26T04:10:11.971950'}
2025-06-26 09:40:12,009 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: transaction_statement
2025-06-26 09:40:12,027 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:12,027 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: transaction_statement is 'Emod'.
2025-06-26 09:40:12,031 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: transaction_statement
2025-06-26 09:40:12,049 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:12,050 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: transaction_statement is 'Commodity'.
2025-06-26 09:40:12,068 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:12,069 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: transaction_statement is 'Effective'.
2025-06-26 09:40:12,069 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : transaction_statement
2025-06-26 09:40:12,071 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'midapi', 'endpoint': '', 'id': 'transaction_statement'}
2025-06-26 09:40:12,093 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_api_payload, found: Yes
2025-06-26 09:40:12,093 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '5f53b93c-1760-4623-ba8e-565df7e489e3', 'session_id': 'mbDv8TgY7iIMtbpKUbnSzHl', 'from_date': None, 'to_date': None, 'statement_type': 'T', 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-26T04:10:11.971950'}
2025-06-26 09:40:12,095 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> mbDv8TgY7iIMtbpKUbnSzHl_client_id
2025-06-26 09:40:12,113 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl_client_id, found: No
2025-06-26 09:40:12,114 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 09:40:12,114 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 09:40:12,115 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: mbDv8TgY7iIMtbpKUbnSzHl
2025-06-26 09:40:12,138 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: mbDv8TgY7iIMtbpKUbnSzHl, found: Yes
2025-06-26 09:40:12,157 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_mid_stage_api : 112] --> Calling mid-stage endpoint 'transaction_statement' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '5f53b93c-1760-4623-ba8e-565df7e489e3', 'session_id': 'mbDv8TgY7iIMtbpKUbnSzHl'}
2025-06-26 09:40:15,834 mlscoringinference [CRITICAL | endpoint_api_handler.py : handle_mid_stage_api : 124] --> Error in mid-stage call 'transaction_statement': 'NoneType' object has no attribute 'lower'
Traceback (most recent call last):
  File "D:\mofsl-wmchatbot-repo\chatbot_backend\engine\api_handlers\endpoint_api_handler.py", line 117, in handle_mid_stage_api
    if raw_message.lower() in ["yes", "no"]:
AttributeError: 'NoneType' object has no attribute 'lower'
2025-06-26 09:40:15,836 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 09:40:15,842 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:19:01,503 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:19:01,507 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:19:01,530 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: No
2025-06-26 10:19:01,548 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: No
2025-06-26 10:19:01,569 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:19:01,571 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:19:21,845 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='dp_statement', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:19:21,846 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:19:21,868 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:19:21,890 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:19:21,891 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T04:49:01.531354', 'history_stack': []}
2025-06-26 10:19:21,928 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:21,966 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:22,003 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:22,040 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:22,077 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:22,096 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'dp_statement', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:19:22,115 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:22,115 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'statement_type': None, 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-26T04:49:22.078759'}
2025-06-26 10:19:22,118 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: dp_statement
2025-06-26 10:19:22,136 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:22,137 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: dp_statement is 'Emod'.
2025-06-26 10:19:22,138 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: dp_statement
2025-06-26 10:19:22,156 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:22,157 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: dp_statement is 'Commodity'.
2025-06-26 10:19:22,176 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:22,177 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: dp_statement is 'Effective'.
2025-06-26 10:19:22,180 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : dp_statement
2025-06-26 10:19:22,180 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}
2025-06-26 10:19:22,199 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:19:22,218 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}
2025-06-26 10:19:22,219 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:19:22,220 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:19:24,428 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='transaction_statement', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:19:24,430 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:19:24,451 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:19:24,470 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:19:24,470 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}, 'last_updated': '2025-06-26T04:49:22.180611', 'history_stack': ['initial_client']}
2025-06-26 10:19:24,489 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:24,526 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:24,563 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:24,601 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:24,638 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:24,656 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'transaction_statement', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:19:24,676 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:24,695 mlscoringinference [INFO | chatbot_session.py : update_statement_type : 315] --> Statement type for click id: transaction_statement is 'T'.
2025-06-26 10:19:24,714 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:24,714 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'statement_type': 'T', 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-26T04:49:24.677409'}
2025-06-26 10:19:24,715 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: transaction_statement
2025-06-26 10:19:24,734 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:24,734 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: transaction_statement is 'Emod'.
2025-06-26 10:19:24,737 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: transaction_statement
2025-06-26 10:19:24,755 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:24,756 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: transaction_statement is 'Commodity'.
2025-06-26 10:19:24,775 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:24,776 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: transaction_statement is 'Effective'.
2025-06-26 10:19:24,776 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : transaction_statement
2025-06-26 10:19:24,777 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'midapi', 'endpoint': '', 'id': 'transaction_statement'}
2025-06-26 10:19:24,796 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:19:24,796 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'statement_type': 'T', 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-26T04:49:24.677409'}
2025-06-26 10:19:24,799 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:19:24,818 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:19:24,819 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:19:24,819 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:19:24,820 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:19:24,839 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:19:24,857 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_mid_stage_api : 112] --> Calling mid-stage endpoint 'transaction_statement' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe'}
2025-06-26 10:19:28,274 mlscoringinference [CRITICAL | endpoint_api_handler.py : handle_mid_stage_api : 124] --> Error in mid-stage call 'transaction_statement': 'NoneType' object has no attribute 'lower'
Traceback (most recent call last):
  File "D:\mofsl-wmchatbot-repo\chatbot_backend\engine\api_handlers\endpoint_api_handler.py", line 117, in handle_mid_stage_api
    # Transform raw DP ID response to a chatbot-friendly options list
AttributeError: 'NoneType' object has no attribute 'lower'
2025-06-26 10:19:28,277 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:19:28,284 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:19:28,334 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:19:28,336 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:19:28,359 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:19:28,380 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:19:28,399 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:19:28,403 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:34:22,898 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='my_details', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:34:45,327 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:34:45,355 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:34:45,374 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:34:45,375 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T04:49:28.361328', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement']}
2025-06-26 10:34:45,411 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:34:45,448 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:34:45,486 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:34:45,523 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:34:45,560 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:34:45,578 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'my_details', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:34:45,596 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:34:45,597 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'my_details'}, 'last_updated': '2025-06-26T05:04:45.561060'}
2025-06-26 10:34:45,597 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: my_details
2025-06-26 10:34:45,616 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:34:45,617 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: my_details is 'Emod'.
2025-06-26 10:34:45,617 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: my_details
2025-06-26 10:34:45,636 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:34:45,637 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: my_details is 'Commodity'.
2025-06-26 10:34:45,658 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:34:45,659 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: my_details is 'Effective'.
2025-06-26 10:34:45,659 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : my_details
2025-06-26 10:34:45,659 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'my_details', 'id': 'my_details'}
2025-06-26 10:34:45,659 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:34:45,678 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:34:45,678 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'my_details'}, 'last_updated': '2025-06-26T05:04:45.561060'}
2025-06-26 10:34:45,679 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:34:45,697 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:34:45,698 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:34:45,700 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:34:45,700 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:34:45,701 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:34:45,701 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> my_details - API ENDPOINT
2025-06-26 10:34:45,701 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'my_details' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe'}
2025-06-26 10:34:45,859 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'my_details': {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}]}
2025-06-26 10:34:45,860 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'my_details' call successful
2025-06-26 10:34:45,864 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}], 'action': 'result'}
2025-06-26 10:34:45,865 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'ClientCode': 'NAGSYA5', 'ClientName': 'GULREZ IMRAN ALI', 'MobileNo': '9370605963', 'EmailId': 'gulrez.ali1971@gmail.com', 'Family': 'NAG1200', 'DefaultDPID': '1201090003822577', 'BankName': 'AXIS BANK LTD--SAVING', 'AccNumber': '924010002129578', 'BranchFranchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'BranchFranchiseeNo': '9822223399', 'BranchFranchiseeAdd': 'PUKHRAJ HOUSE, VIP ROAD, DHARAMPETH,Pin-440010,Nagpur,MH,India', 'Branch': 'RETAILNAGP', 'SubBroker': 'RPUKRAJ', 'Trader': 'PUKHRAJ2', 'AccountType': 'NOR', 'AccountStatus': 'ACTIVE', 'Segment': 'BSE , CDSL, NSE', 'Advisor': 'You are a Call and trade Customer - Kindly call on 022-62126661 from your registered mobile number'}], 'action': 'result'} - RESPONSE
2025-06-26 10:34:45,866 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:34:45,868 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:34:45,907 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:34:45,909 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:34:45,929 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:34:45,949 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:34:45,969 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:34:45,971 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:35:03,488 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='dp_statement', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:35:03,489 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:35:03,514 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:03,532 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:03,533 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:04:45.930922', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement']}
2025-06-26 10:35:03,572 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:03,609 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:03,646 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:03,683 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:03,720 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:03,739 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'dp_statement', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:35:03,757 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:03,757 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'statement_type': None, 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-26T05:05:03.721354'}
2025-06-26 10:35:03,760 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: dp_statement
2025-06-26 10:35:03,779 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:03,780 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: dp_statement is 'Emod'.
2025-06-26 10:35:03,780 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: dp_statement
2025-06-26 10:35:03,798 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:03,798 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: dp_statement is 'Commodity'.
2025-06-26 10:35:03,817 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:03,818 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: dp_statement is 'Effective'.
2025-06-26 10:35:03,821 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : dp_statement
2025-06-26 10:35:03,821 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}
2025-06-26 10:35:03,840 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:03,859 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}
2025-06-26 10:35:03,860 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:35:03,861 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:35:06,137 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='holding_statement', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:35:06,139 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:35:06,158 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:06,177 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:06,177 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}, 'last_updated': '2025-06-26T05:05:03.822570', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client']}
2025-06-26 10:35:06,196 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:06,233 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:06,270 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:06,307 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:06,343 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:06,362 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'holding_statement', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:35:06,381 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:06,382 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'statement_type': None, 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-26T05:05:06.344994'}
2025-06-26 10:35:06,386 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: holding_statement
2025-06-26 10:35:06,404 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:06,404 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: holding_statement is 'Emod'.
2025-06-26 10:35:06,405 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: holding_statement
2025-06-26 10:35:06,423 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:06,424 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: holding_statement is 'Commodity'.
2025-06-26 10:35:06,442 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:06,442 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: holding_statement is 'Effective'.
2025-06-26 10:35:06,443 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : holding_statement
2025-06-26 10:35:06,443 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'total_holdings', 'text': 'Total Holdings'}, {'id': 'dp_holdings', 'text': 'DP Holdings'}], 'id': 'holding_statement'}
2025-06-26 10:35:06,461 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:06,480 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'total_holdings', 'text': 'Total Holdings'}, {'id': 'dp_holdings', 'text': 'DP Holdings'}], 'id': 'holding_statement'}
2025-06-26 10:35:06,480 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:35:06,481 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:35:09,103 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='dp_holdings', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:35:09,104 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:35:09,124 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:09,143 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:09,145 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'total_holdings', 'text': 'Total Holdings'}, {'id': 'dp_holdings', 'text': 'DP Holdings'}], 'id': 'holding_statement'}, 'last_updated': '2025-06-26T05:05:06.443598', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement']}
2025-06-26 10:35:09,165 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:09,202 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:09,240 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:09,277 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:09,313 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:09,333 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'dp_holdings', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:35:09,352 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:09,370 mlscoringinference [INFO | chatbot_session.py : update_statement_type : 312] --> Statement type for click id: dp_holdings is 'H'.
2025-06-26 10:35:09,388 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:09,388 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'statement_type': 'H', 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-26T05:05:09.352245'}
2025-06-26 10:35:09,389 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: dp_holdings
2025-06-26 10:35:09,407 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:09,409 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: dp_holdings is 'Emod'.
2025-06-26 10:35:09,409 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: dp_holdings
2025-06-26 10:35:09,428 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:09,429 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: dp_holdings is 'Commodity'.
2025-06-26 10:35:09,447 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:09,448 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: dp_holdings is 'Effective'.
2025-06-26 10:35:09,450 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : dp_holdings
2025-06-26 10:35:09,450 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'midapi', 'endpoint': '', 'id': 'dp_holdings'}
2025-06-26 10:35:09,469 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:09,471 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'statement_type': 'H', 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-26T05:05:09.352245'}
2025-06-26 10:35:09,471 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:35:09,489 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:35:09,490 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:35:09,490 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:35:09,490 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:35:09,509 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:09,528 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_mid_stage_api : 112] --> Calling mid-stage endpoint 'dp_holdings' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe'}
2025-06-26 10:35:09,574 mlscoringinference [CRITICAL | endpoint_api_handler.py : handle_mid_stage_api : 124] --> Error in mid-stage call 'dp_holdings': 'NoneType' object has no attribute 'lower'
Traceback (most recent call last):
  File "D:\mofsl-wmchatbot-repo\chatbot_backend\engine\api_handlers\endpoint_api_handler.py", line 117, in handle_mid_stage_api
    # Transform raw DP ID response to a chatbot-friendly options list
AttributeError: 'NoneType' object has no attribute 'lower'
2025-06-26 10:35:09,575 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:35:09,580 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:35:09,615 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:35:09,619 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:35:09,641 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:09,659 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:09,679 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:35:09,683 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:35:15,858 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='dp_statement', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:35:15,860 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:35:15,882 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:15,901 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:15,902 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:05:09.642128', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings']}
2025-06-26 10:35:15,940 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:15,976 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:16,014 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:16,051 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:16,088 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:16,106 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'dp_statement', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:35:16,125 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:16,126 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'statement_type': None, 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-26T05:05:16.089201'}
2025-06-26 10:35:16,126 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: dp_statement
2025-06-26 10:35:16,145 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:16,145 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: dp_statement is 'Emod'.
2025-06-26 10:35:16,146 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: dp_statement
2025-06-26 10:35:16,164 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:16,164 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: dp_statement is 'Commodity'.
2025-06-26 10:35:16,184 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:16,185 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: dp_statement is 'Effective'.
2025-06-26 10:35:16,188 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : dp_statement
2025-06-26 10:35:16,188 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}
2025-06-26 10:35:16,207 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:16,226 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}
2025-06-26 10:35:16,227 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:35:16,229 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:35:18,554 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='holding_statement', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:35:18,555 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:35:18,575 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:18,595 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:18,595 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'holding_statement', 'text': 'Holding Statement'}, {'id': 'transaction_statement', 'text': 'Transaction Statement'}], 'id': 'dp_statement'}, 'last_updated': '2025-06-26T05:05:16.189213', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client']}
2025-06-26 10:35:18,614 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:18,650 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:18,688 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:18,726 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:18,763 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:18,782 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'holding_statement', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:35:18,802 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:18,802 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'statement_type': None, 'dp_id': None, 'return_type': None, 'api_endpoint': 'dp_statement'}, 'last_updated': '2025-06-26T05:05:18.763244'}
2025-06-26 10:35:18,805 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: holding_statement
2025-06-26 10:35:18,823 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:18,824 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: holding_statement is 'Emod'.
2025-06-26 10:35:18,824 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: holding_statement
2025-06-26 10:35:18,843 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:18,844 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: holding_statement is 'Commodity'.
2025-06-26 10:35:18,865 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:18,865 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: holding_statement is 'Effective'.
2025-06-26 10:35:18,866 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : holding_statement
2025-06-26 10:35:18,866 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'total_holdings', 'text': 'Total Holdings'}, {'id': 'dp_holdings', 'text': 'DP Holdings'}], 'id': 'holding_statement'}
2025-06-26 10:35:18,885 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:18,904 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'total_holdings', 'text': 'Total Holdings'}, {'id': 'dp_holdings', 'text': 'DP Holdings'}], 'id': 'holding_statement'}
2025-06-26 10:35:18,904 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:35:18,908 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:35:20,188 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='total_holdings', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:35:20,189 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:35:20,209 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:20,227 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:20,228 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'total_holdings', 'text': 'Total Holdings'}, {'id': 'dp_holdings', 'text': 'DP Holdings'}], 'id': 'holding_statement'}, 'last_updated': '2025-06-26T05:05:18.866454', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement']}
2025-06-26 10:35:20,267 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:20,304 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:20,341 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:20,378 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:20,414 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:20,433 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'total_holdings', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:35:20,452 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:20,452 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'total_holdings'}, 'last_updated': '2025-06-26T05:05:20.415496'}
2025-06-26 10:35:20,453 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: total_holdings
2025-06-26 10:35:20,474 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:20,475 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: total_holdings is 'Emod'.
2025-06-26 10:35:20,476 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: total_holdings
2025-06-26 10:35:20,494 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:20,495 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: total_holdings is 'Commodity'.
2025-06-26 10:35:20,513 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:20,514 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: total_holdings is 'Effective'.
2025-06-26 10:35:20,517 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : total_holdings
2025-06-26 10:35:20,517 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': '', 'id': 'total_holdings'}
2025-06-26 10:35:20,517 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:35:20,535 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:35:20,535 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'total_holdings'}, 'last_updated': '2025-06-26T05:05:20.415496'}
2025-06-26 10:35:20,536 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:35:20,555 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:35:20,555 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:35:20,556 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:35:20,556 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:35:20,556 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:35:20,556 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> total_holdings - API ENDPOINT
2025-06-26 10:35:20,556 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'total_holdings' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe'}
2025-06-26 10:35:24,176 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'total_holdings': {'Status': 'Failure', 'Message': 'UCID Not Found!!'}
2025-06-26 10:35:24,176 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'total_holdings' call successful
2025-06-26 10:35:24,180 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Failure', 'Message': 'UCID Not Found!!', 'action': 'result'}
2025-06-26 10:35:24,181 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Failure', 'Message': 'UCID Not Found!!', 'action': 'result'} - RESPONSE
2025-06-26 10:35:24,181 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:35:24,182 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:35:24,211 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:35:24,213 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:35:24,231 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:24,250 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:35:24,269 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:35:24,273 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:47:13,485 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='holding_statement', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:47:26,620 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:47:32,048 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:47:32,092 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:47:32,113 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:47:32,132 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:47:32,133 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:05:24.232873', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement']}
2025-06-26 10:47:32,185 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:32,222 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:32,258 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:32,295 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:32,332 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:32,350 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'holding_statement', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:47:32,369 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:32,370 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'total_holdings'}, 'last_updated': '2025-06-26T05:17:32.332683'}
2025-06-26 10:47:32,371 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: holding_statement
2025-06-26 10:47:32,390 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:32,390 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: holding_statement is 'Emod'.
2025-06-26 10:47:32,390 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: holding_statement
2025-06-26 10:47:32,409 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:32,409 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: holding_statement is 'Commodity'.
2025-06-26 10:47:32,430 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:32,431 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: holding_statement is 'Effective'.
2025-06-26 10:47:32,431 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : holding_statement
2025-06-26 10:47:32,431 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'total_holdings', 'text': 'Total Holdings'}, {'id': 'dp_holdings', 'text': 'DP Holdings'}], 'id': 'holding_statement'}
2025-06-26 10:47:32,450 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:47:32,468 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'total_holdings', 'text': 'Total Holdings'}, {'id': 'dp_holdings', 'text': 'DP Holdings'}], 'id': 'holding_statement'}
2025-06-26 10:47:32,469 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:47:32,474 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:47:32,568 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:47:32,587 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:47:32,607 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:47:32,610 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:47:40,390 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='stt_ctt_certificate', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:47:40,391 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:47:40,412 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:47:40,432 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:47:40,432 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:17:32.569028', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement']}
2025-06-26 10:47:40,468 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:40,505 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:40,543 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:40,579 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:40,617 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:40,635 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'stt_ctt_certificate', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:47:40,654 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:40,655 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'api_endpoint': 'stt_ctt_certificate'}, 'last_updated': '2025-06-26T05:17:40.617749'}
2025-06-26 10:47:40,658 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: stt_ctt_certificate
2025-06-26 10:47:40,676 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:40,677 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: stt_ctt_certificate is 'Emod'.
2025-06-26 10:47:40,678 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: stt_ctt_certificate
2025-06-26 10:47:40,696 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:40,696 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: stt_ctt_certificate is 'Commodity'.
2025-06-26 10:47:40,715 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:40,716 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: stt_ctt_certificate is 'Effective'.
2025-06-26 10:47:40,718 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : stt_ctt_certificate
2025-06-26 10:47:40,718 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy_stt_ctt', 'text': 'Current FY'}, {'id': 'previous_fy_stt_ctt', 'text': 'Previous FY'}], 'id': 'stt_ctt_certificate'}
2025-06-26 10:47:40,736 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:47:40,755 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy_stt_ctt', 'text': 'Current FY'}, {'id': 'previous_fy_stt_ctt', 'text': 'Previous FY'}], 'id': 'stt_ctt_certificate'}
2025-06-26 10:47:40,756 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:47:40,757 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:47:42,883 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='current_fy_stt_ctt', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:47:42,884 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:47:42,905 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:47:42,923 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:47:42,924 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy_stt_ctt', 'text': 'Current FY'}, {'id': 'previous_fy_stt_ctt', 'text': 'Previous FY'}], 'id': 'stt_ctt_certificate'}, 'last_updated': '2025-06-26T05:17:40.719155', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client']}
2025-06-26 10:47:42,944 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:42,980 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:43,018 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:43,054 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:43,091 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:43,111 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'current_fy_stt_ctt', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:47:43,129 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:43,166 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:43,203 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:43,204 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025', 'api_endpoint': 'stt_ctt_certificate'}, 'last_updated': '2025-06-26T05:17:43.166872'}
2025-06-26 10:47:43,206 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: current_fy_stt_ctt
2025-06-26 10:47:43,225 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:43,226 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: current_fy_stt_ctt is 'Emod'.
2025-06-26 10:47:43,226 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: current_fy_stt_ctt
2025-06-26 10:47:43,245 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:43,246 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: current_fy_stt_ctt is 'Commodity'.
2025-06-26 10:47:43,264 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:43,265 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: current_fy_stt_ctt is 'Effective'.
2025-06-26 10:47:43,265 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : current_fy_stt_ctt
2025-06-26 10:47:43,265 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': '', 'id': 'current_fy_stt_ctt'}
2025-06-26 10:47:43,266 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:47:43,284 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:47:43,285 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025', 'api_endpoint': 'stt_ctt_certificate'}, 'last_updated': '2025-06-26T05:17:43.166872'}
2025-06-26 10:47:43,286 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:47:43,304 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:47:43,305 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:47:43,308 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:47:43,308 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:47:43,309 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:47:43,309 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> stt_ctt_certificate - API ENDPOINT
2025-06-26 10:47:43,309 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'stt_ctt_certificate' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025'}
2025-06-26 10:47:43,401 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'stt_ctt_certificate': {'Status': 'Failure', 'Message': 'Session is Invalid or Expire !!'}
2025-06-26 10:47:43,402 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'stt_ctt_certificate' call successful
2025-06-26 10:47:43,404 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Failure', 'Message': 'Session is Invalid or Expire !!', 'action': 'result'}
2025-06-26 10:47:43,405 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Failure', 'Message': 'Session is Invalid or Expire !!', 'action': 'result'} - RESPONSE
2025-06-26 10:47:43,405 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:47:43,407 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:47:43,445 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:47:43,447 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:47:43,467 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:47:43,486 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:47:43,505 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:47:43,510 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:48:25,778 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='markets_research_client', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:48:25,781 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:48:25,801 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:25,819 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:25,820 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:17:43.468433', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate']}
2025-06-26 10:48:25,857 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:25,876 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:25,894 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:25,913 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:25,932 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:25,932 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'markets_research_client', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:48:25,950 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:25,951 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'api_endpoint': 'markets_research_client'}, 'last_updated': '2025-06-26T05:18:25.821243'}
2025-06-26 10:48:25,951 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: markets_research_client
2025-06-26 10:48:25,970 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:25,971 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: markets_research_client is 'Emod'.
2025-06-26 10:48:25,971 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: markets_research_client
2025-06-26 10:48:25,989 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:25,990 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: markets_research_client is 'Commodity'.
2025-06-26 10:48:26,010 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:26,011 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: markets_research_client is 'Effective'.
2025-06-26 10:48:26,011 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : markets_research_client
2025-06-26 10:48:26,011 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'advisor', 'text': 'Advisor'}, {'id': 'markets_research', 'text': 'Markets Research'}], 'id': 'markets_research_client'}
2025-06-26 10:48:26,030 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:26,049 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'advisor', 'text': 'Advisor'}, {'id': 'markets_research', 'text': 'Markets Research'}], 'id': 'markets_research_client'}
2025-06-26 10:48:26,050 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:48:26,054 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:48:28,472 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='advisor', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:48:28,475 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:48:28,494 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:28,512 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:28,513 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'advisor', 'text': 'Advisor'}, {'id': 'markets_research', 'text': 'Markets Research'}], 'id': 'markets_research_client'}, 'last_updated': '2025-06-26T05:18:26.012458', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client']}
2025-06-26 10:48:28,549 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:28,585 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:28,621 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:28,658 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:28,695 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:28,713 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'advisor', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:48:28,732 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:28,732 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'advisor'}, 'last_updated': '2025-06-26T05:18:28.695581'}
2025-06-26 10:48:28,732 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: advisor
2025-06-26 10:48:28,750 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:28,751 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: advisor is 'Emod'.
2025-06-26 10:48:28,752 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: advisor
2025-06-26 10:48:28,770 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:28,771 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: advisor is 'Commodity'.
2025-06-26 10:48:28,790 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:28,790 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: advisor is 'Effective'.
2025-06-26 10:48:28,793 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : advisor
2025-06-26 10:48:28,793 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'advisor', 'id': 'advisor'}
2025-06-26 10:48:28,794 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:48:28,812 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:28,812 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'advisor'}, 'last_updated': '2025-06-26T05:18:28.695581'}
2025-06-26 10:48:28,813 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:48:28,831 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:48:28,832 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:48:28,834 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:48:28,835 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:48:28,835 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:48:28,835 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> advisor - API ENDPOINT
2025-06-26 10:48:28,835 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'advisor' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe'}
2025-06-26 10:48:28,953 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'advisor': {'Status': 'Success', 'Data': [{'Branch_Franchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'Branch_Franchisee_No': '9822223399', 'Branch_Franchisee_Address': 'PUKHRAJ HOUSE, VIP ROAD, Nagpur 440010 MH', 'BranchCode': 'RETAILNAGP', 'Contact': 'Please co-ordinate with your franchisee'}]}
2025-06-26 10:48:28,954 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'advisor' call successful
2025-06-26 10:48:28,957 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Branch_Franchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'Branch_Franchisee_No': '9822223399', 'Branch_Franchisee_Address': 'PUKHRAJ HOUSE, VIP ROAD, Nagpur 440010 MH', 'BranchCode': 'RETAILNAGP', 'Contact': 'Please co-ordinate with your franchisee'}], 'action': 'result'}
2025-06-26 10:48:28,957 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Branch_Franchisee': 'PUKHRAJ CAPITAL AND SHARE BROKING PVT LTD', 'Branch_Franchisee_No': '9822223399', 'Branch_Franchisee_Address': 'PUKHRAJ HOUSE, VIP ROAD, Nagpur 440010 MH', 'BranchCode': 'RETAILNAGP', 'Contact': 'Please co-ordinate with your franchisee'}], 'action': 'result'} - RESPONSE
2025-06-26 10:48:28,958 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:48:28,959 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:48:28,990 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:48:28,991 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:48:29,012 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:29,032 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:29,052 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:48:29,054 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:48:34,020 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='markets_research_client', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:48:34,021 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:48:34,043 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:34,064 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:34,065 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:18:29.014538', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client']}
2025-06-26 10:48:34,107 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:34,126 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:34,146 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:34,164 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:34,183 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:34,183 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'markets_research_client', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:48:34,206 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:34,206 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'api_endpoint': 'markets_research_client'}, 'last_updated': '2025-06-26T05:18:34.068886'}
2025-06-26 10:48:34,207 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: markets_research_client
2025-06-26 10:48:34,226 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:34,227 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: markets_research_client is 'Emod'.
2025-06-26 10:48:34,229 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: markets_research_client
2025-06-26 10:48:34,248 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:34,249 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: markets_research_client is 'Commodity'.
2025-06-26 10:48:34,268 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:34,268 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: markets_research_client is 'Effective'.
2025-06-26 10:48:34,268 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : markets_research_client
2025-06-26 10:48:34,269 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'advisor', 'text': 'Advisor'}, {'id': 'markets_research', 'text': 'Markets Research'}], 'id': 'markets_research_client'}
2025-06-26 10:48:34,288 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:34,306 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'advisor', 'text': 'Advisor'}, {'id': 'markets_research', 'text': 'Markets Research'}], 'id': 'markets_research_client'}
2025-06-26 10:48:34,307 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:48:34,308 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:48:36,077 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='markets_research', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:48:36,078 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:48:36,100 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:36,120 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:36,121 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'advisor', 'text': 'Advisor'}, {'id': 'markets_research', 'text': 'Markets Research'}], 'id': 'markets_research_client'}, 'last_updated': '2025-06-26T05:18:34.269659', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client']}
2025-06-26 10:48:36,139 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:36,158 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:36,177 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:36,195 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:36,214 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:36,214 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'markets_research', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:48:36,233 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:36,233 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'api_endpoint': 'markets_research_client'}, 'last_updated': '2025-06-26T05:18:34.068886'}
2025-06-26 10:48:36,233 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: markets_research
2025-06-26 10:48:36,252 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:36,252 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: markets_research is 'Emod'.
2025-06-26 10:48:36,256 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: markets_research
2025-06-26 10:48:36,274 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:36,275 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: markets_research is 'Commodity'.
2025-06-26 10:48:36,294 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:36,294 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: markets_research is 'Effective'.
2025-06-26 10:48:36,295 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : markets_research
2025-06-26 10:48:36,295 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'markets_research_client', 'id': 'markets_research'}
2025-06-26 10:48:36,295 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:48:36,313 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:36,314 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'api_endpoint': 'markets_research_client'}, 'last_updated': '2025-06-26T05:18:34.068886'}
2025-06-26 10:48:36,318 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:48:36,336 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:48:36,337 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:48:36,337 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:48:36,337 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:48:36,337 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:48:36,339 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> markets_research_client - API ENDPOINT
2025-06-26 10:48:36,340 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'markets_research_client' with args: {}
2025-06-26 10:48:36,342 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'markets_research_client': {'message': 'https://www.motilaloswal.com/stock-research'}
2025-06-26 10:48:36,347 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'markets_research_client' call successful
2025-06-26 10:48:36,348 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'message': 'https://www.motilaloswal.com/stock-research', 'action': 'result'}
2025-06-26 10:48:36,348 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'message': 'https://www.motilaloswal.com/stock-research', 'action': 'result'} - RESPONSE
2025-06-26 10:48:36,348 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:48:36,351 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:48:36,390 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:48:36,392 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:48:36,412 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:36,431 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:36,449 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:48:36,453 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:48:44,659 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='upcoming_buyback', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:48:44,661 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:48:44,682 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:44,700 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:44,701 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:18:36.413305', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client']}
2025-06-26 10:48:44,719 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:44,738 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:44,757 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:44,775 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:44,794 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:44,795 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'upcoming_buyback', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:48:44,816 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:44,817 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'api_endpoint': 'markets_research_client'}, 'last_updated': '2025-06-26T05:18:34.068886'}
2025-06-26 10:48:44,817 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: upcoming_buyback
2025-06-26 10:48:44,836 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:44,837 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: upcoming_buyback is 'Emod'.
2025-06-26 10:48:44,837 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: upcoming_buyback
2025-06-26 10:48:44,856 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:44,856 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: upcoming_buyback is 'Commodity'.
2025-06-26 10:48:44,877 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:44,878 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: upcoming_buyback is 'Effective'.
2025-06-26 10:48:44,878 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : upcoming_buyback
2025-06-26 10:48:44,878 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'upcoming_bse', 'text': 'BSE'}, {'id': 'upcoming_nse', 'text': 'NSE'}], 'id': 'upcoming_buyback'}
2025-06-26 10:48:44,897 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:44,916 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'upcoming_bse', 'text': 'BSE'}, {'id': 'upcoming_nse', 'text': 'NSE'}], 'id': 'upcoming_buyback'}
2025-06-26 10:48:44,917 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:48:44,922 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:48:47,033 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='upcoming_bse', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:48:47,035 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:48:47,054 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:47,074 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:47,074 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'upcoming_bse', 'text': 'BSE'}, {'id': 'upcoming_nse', 'text': 'NSE'}], 'id': 'upcoming_buyback'}, 'last_updated': '2025-06-26T05:18:44.878483', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client']}
2025-06-26 10:48:47,111 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:47,130 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:47,149 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:47,168 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:47,186 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:47,187 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'upcoming_bse', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:48:47,205 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:47,206 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'api_endpoint': 'upcoming_bse'}, 'last_updated': '2025-06-26T05:18:47.075772'}
2025-06-26 10:48:47,207 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: upcoming_bse
2025-06-26 10:48:47,225 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:47,226 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: upcoming_bse is 'Emod'.
2025-06-26 10:48:47,226 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: upcoming_bse
2025-06-26 10:48:47,245 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:47,246 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: upcoming_bse is 'Commodity'.
2025-06-26 10:48:47,266 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:47,267 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: upcoming_bse is 'Effective'.
2025-06-26 10:48:47,268 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : upcoming_bse
2025-06-26 10:48:47,268 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'upcoming_bse', 'id': 'upcoming_bse'}
2025-06-26 10:48:47,268 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:48:47,287 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:47,288 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'api_endpoint': 'upcoming_bse'}, 'last_updated': '2025-06-26T05:18:47.075772'}
2025-06-26 10:48:47,288 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:48:47,306 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:48:47,307 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:48:47,309 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:48:47,310 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:48:47,310 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:48:47,310 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> upcoming_bse - API ENDPOINT
2025-06-26 10:48:47,310 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'upcoming_bse' with args: {}
2025-06-26 10:48:47,311 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'upcoming_bse': {'message': 'https://www.bseindia.com/markets/PublicIssues/AcqIssueDetail.aspx?expandable=3&Type=2'}
2025-06-26 10:48:47,312 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'upcoming_bse' call successful
2025-06-26 10:48:47,312 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'message': 'https://www.bseindia.com/markets/PublicIssues/AcqIssueDetail.aspx?expandable=3&Type=2', 'action': 'result'}
2025-06-26 10:48:47,312 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'message': 'https://www.bseindia.com/markets/PublicIssues/AcqIssueDetail.aspx?expandable=3&Type=2', 'action': 'result'} - RESPONSE
2025-06-26 10:48:47,312 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:48:47,313 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:48:47,344 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:48:47,346 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:48:47,367 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:47,387 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:47,407 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:48:47,408 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:48:53,922 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='fund_payout_status', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:48:53,924 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:48:53,945 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:53,964 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:53,964 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:18:47.370271', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback']}
2025-06-26 10:48:54,001 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:54,037 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:54,074 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:54,110 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:54,147 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:54,165 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'fund_payout_status', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:48:54,184 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:54,185 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'fund_payout_status'}, 'last_updated': '2025-06-26T05:18:54.147890'}
2025-06-26 10:48:54,185 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: fund_payout_status
2025-06-26 10:48:54,204 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:54,205 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: fund_payout_status is 'Emod'.
2025-06-26 10:48:54,205 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: fund_payout_status
2025-06-26 10:48:54,223 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:54,224 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: fund_payout_status is 'Commodity'.
2025-06-26 10:48:54,242 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:54,242 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: fund_payout_status is 'Effective'.
2025-06-26 10:48:54,245 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : fund_payout_status
2025-06-26 10:48:54,245 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'fund_payout_status', 'id': 'fund_payout_status'}
2025-06-26 10:48:54,246 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:48:54,264 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:48:54,264 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'fund_payout_status'}, 'last_updated': '2025-06-26T05:18:54.147890'}
2025-06-26 10:48:54,265 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:48:54,283 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:48:54,284 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:48:54,285 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:48:54,285 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:48:54,286 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:48:54,286 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> fund_payout_status - API ENDPOINT
2025-06-26 10:48:54,286 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'fund_payout_status' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe'}
2025-06-26 10:48:54,386 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'fund_payout_status': {'Status': 'Success', 'Data': [{'Note': 'Latest Payouts released in last 30 days  ', 'Segment': 'EQ', 'CREATED_ON': '31 May 2025', 'FinalPayout': '25000.00'}, {'Note': 'Latest Payouts released in last 30 days  ', 'Segment': 'EQ', 'CREATED_ON': '28 May 2025', 'FinalPayout': '3000.00'}]}
2025-06-26 10:48:54,387 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'fund_payout_status' call successful
2025-06-26 10:48:54,391 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Note': 'Latest Payouts released in last 30 days  ', 'Segment': 'EQ', 'CREATED_ON': '31 May 2025', 'FinalPayout': '25000.00'}, {'Note': 'Latest Payouts released in last 30 days  ', 'Segment': 'EQ', 'CREATED_ON': '28 May 2025', 'FinalPayout': '3000.00'}], 'action': 'result'}
2025-06-26 10:48:54,392 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Note': 'Latest Payouts released in last 30 days  ', 'Segment': 'EQ', 'CREATED_ON': '31 May 2025', 'FinalPayout': '25000.00'}, {'Note': 'Latest Payouts released in last 30 days  ', 'Segment': 'EQ', 'CREATED_ON': '28 May 2025', 'FinalPayout': '3000.00'}], 'action': 'result'} - RESPONSE
2025-06-26 10:48:54,392 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:48:54,393 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:48:54,427 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:48:54,428 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:48:54,446 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:54,465 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:48:54,484 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:48:54,486 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:49:03,314 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='margin_shortage', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:49:03,316 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:49:03,336 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:49:03,357 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:49:03,357 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:18:54.447044', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback']}
2025-06-26 10:49:03,394 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:03,430 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:03,466 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:03,503 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:03,541 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:03,559 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'margin_shortage', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:49:03,578 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:03,579 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'api_endpoint': 'margin_shortage'}, 'last_updated': '2025-06-26T05:19:03.541155'}
2025-06-26 10:49:03,581 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: margin_shortage
2025-06-26 10:49:03,599 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:03,600 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: margin_shortage is 'Emod'.
2025-06-26 10:49:03,600 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: margin_shortage
2025-06-26 10:49:03,619 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:03,619 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: margin_shortage is 'Commodity'.
2025-06-26 10:49:03,638 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:03,639 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: margin_shortage is 'Effective'.
2025-06-26 10:49:03,641 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : margin_shortage
2025-06-26 10:49:03,642 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'margin_shortage'}
2025-06-26 10:49:03,661 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:49:03,680 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'margin_shortage'}
2025-06-26 10:49:03,681 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:49:03,683 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:49:05,861 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='previous_fy', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:49:05,862 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:49:05,883 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:49:05,904 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:49:05,904 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'margin_shortage'}, 'last_updated': '2025-06-26T05:19:03.642615', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client']}
2025-06-26 10:49:05,922 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:05,960 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:05,998 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:06,034 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:06,071 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:06,090 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'previous_fy', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:49:06,109 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:06,146 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:06,183 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:06,184 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025', 'api_endpoint': 'margin_shortage'}, 'last_updated': '2025-06-26T05:19:06.147802'}
2025-06-26 10:49:06,185 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: previous_fy
2025-06-26 10:49:06,203 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:06,204 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: previous_fy is 'Emod'.
2025-06-26 10:49:06,208 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: previous_fy
2025-06-26 10:49:06,227 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:06,227 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: previous_fy is 'Commodity'.
2025-06-26 10:49:06,246 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:06,247 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: previous_fy is 'Effective'.
2025-06-26 10:49:06,247 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : previous_fy
2025-06-26 10:49:06,248 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'previous_fy'}
2025-06-26 10:49:06,266 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:49:06,286 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'previous_fy'}
2025-06-26 10:49:06,286 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:49:06,289 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:49:08,071 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='Link', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:49:08,073 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:49:08,092 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:49:08,112 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:49:08,113 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'previous_fy'}, 'last_updated': '2025-06-26T05:19:06.248343', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage']}
2025-06-26 10:49:08,131 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:08,168 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:08,204 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:08,241 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:08,277 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:08,296 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'Link', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:49:08,315 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:08,315 mlscoringinference [INFO | chatbot_session.py : update_return_type : 304] --> Return type: Link
2025-06-26 10:49:08,334 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:08,335 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025', 'api_endpoint': 'margin_shortage'}, 'last_updated': '2025-06-26T05:19:08.278917'}
2025-06-26 10:49:08,337 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: Link
2025-06-26 10:49:08,355 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:08,356 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: Link is 'Emod'.
2025-06-26 10:49:08,357 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: Link
2025-06-26 10:49:08,375 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:08,375 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: Link is 'Commodity'.
2025-06-26 10:49:08,394 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:08,394 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: Link is 'Effective'.
2025-06-26 10:49:08,397 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : Link
2025-06-26 10:49:08,398 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': ' ', 'id': 'Link'}
2025-06-26 10:49:08,398 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:49:08,416 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:49:08,417 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025', 'api_endpoint': 'margin_shortage'}, 'last_updated': '2025-06-26T05:19:08.278917'}
2025-06-26 10:49:08,417 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:49:08,436 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:49:08,437 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:49:08,437 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:49:08,437 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:49:08,437 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:49:08,441 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> margin_shortage - API ENDPOINT
2025-06-26 10:49:08,442 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'margin_shortage' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025'}
2025-06-26 10:49:09,995 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'margin_shortage': {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=33635132D5E9'}
2025-06-26 10:49:09,996 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'margin_shortage' call successful
2025-06-26 10:49:09,998 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=33635132D5E9', 'action': 'result'}
2025-06-26 10:49:09,998 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=33635132D5E9', 'action': 'result'} - RESPONSE
2025-06-26 10:49:09,999 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:49:10,000 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:49:10,042 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:49:10,044 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:49:10,064 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:49:10,083 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:49:10,104 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:49:10,107 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:50:13,186 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:50:13,187 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:50:13,209 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:50:13,227 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:50:13,246 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:50:13,248 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:50:14,907 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='ledger_report', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:50:14,908 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:50:14,928 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:50:14,947 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:50:14,947 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:20:13.209118', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy']}
2025-06-26 10:50:14,988 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:15,025 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:15,061 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:15,098 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:15,135 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:15,154 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'ledger_report', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:50:15,173 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:15,173 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'exchange_seg': None, 'date_type': None, 'return_type': None, 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-26T05:20:15.136705'}
2025-06-26 10:50:15,175 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: ledger_report
2025-06-26 10:50:15,193 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:15,193 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: ledger_report is 'Emod'.
2025-06-26 10:50:15,197 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: ledger_report
2025-06-26 10:50:15,215 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:15,216 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: ledger_report is 'Commodity'.
2025-06-26 10:50:15,234 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:15,253 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: ledger_report is 'Effective'.
2025-06-26 10:50:15,254 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : ledger_report
2025-06-26 10:50:15,257 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Combine', 'text': 'Combine'}, {'id': 'MTF', 'text': 'MTF'}], 'id': 'ledger_report'}
2025-06-26 10:50:15,275 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:50:15,312 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:15,313 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'exchange_seg': None, 'date_type': 'Effective', 'return_type': None, 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-26T05:20:15.234904'}
2025-06-26 10:50:15,316 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:50:15,335 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:50:15,336 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:50:15,336 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:50:15,336 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:50:15,336 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:50:15,337 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> ledger_summary - API ENDPOINT
2025-06-26 10:50:15,337 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'ledger_summary' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe'}
2025-06-26 10:50:15,455 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'ledger_summary': {'Status': 'Success', 'Data': [{'Segment': 'Combine', 'Voucher': -1144848.37, 'Effective': -1144848.37}, {'Segment': 'MTF', 'Voucher': -498927.78, 'Effective': -498927.78}, {'Segment': 'Total', 'Voucher': -1643776.15, 'Effective': -1643776.15}]}
2025-06-26 10:50:15,455 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'ledger_summary' call successful
2025-06-26 10:50:15,459 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Segment': 'Combine', 'Voucher': -1144848.37, 'Effective': -1144848.37}, {'Segment': 'MTF', 'Voucher': -498927.78, 'Effective': -498927.78}, {'Segment': 'Total', 'Voucher': -1643776.15, 'Effective': -1643776.15}], 'action': 'result'}
2025-06-26 10:50:15,459 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Segment': 'Combine', 'Voucher': -1144848.37, 'Effective': -1144848.37}, {'Segment': 'MTF', 'Voucher': -498927.78, 'Effective': -498927.78}, {'Segment': 'Total', 'Voucher': -1643776.15, 'Effective': -1643776.15}], 'action': 'result'} - RESPONSE
2025-06-26 10:50:15,459 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:50:15,459 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> fund_transfer_link - API ENDPOINT
2025-06-26 10:50:15,460 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'fund_transfer_link' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe'}
2025-06-26 10:50:15,948 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'fund_transfer_link': {'Status': 'Success', 'Data': [{'Link': 'https://mofsl.co/FundTransfer.html?ccid=smmynt06/NPLHH8HNNLMBQ==&ssid=jW4H7/NIxmDQX8mzNsnYzuiaGUCKnsRTBRjAgjsdGBM=9999J4Qp0SF0MdBzj7Idg31KLmhxh8oiNhDFTXZxmaKrEiw='}]}
2025-06-26 10:50:15,949 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'fund_transfer_link' call successful
2025-06-26 10:50:15,953 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Link': 'https://mofsl.co/FundTransfer.html?ccid=smmynt06/NPLHH8HNNLMBQ==&ssid=jW4H7/NIxmDQX8mzNsnYzuiaGUCKnsRTBRjAgjsdGBM=9999J4Qp0SF0MdBzj7Idg31KLmhxh8oiNhDFTXZxmaKrEiw='}], 'action': 'result'}
2025-06-26 10:50:15,953 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Link': 'https://mofsl.co/FundTransfer.html?ccid=smmynt06/NPLHH8HNNLMBQ==&ssid=jW4H7/NIxmDQX8mzNsnYzuiaGUCKnsRTBRjAgjsdGBM=9999J4Qp0SF0MdBzj7Idg31KLmhxh8oiNhDFTXZxmaKrEiw='}], 'action': 'result'} - RESPONSE
2025-06-26 10:50:15,954 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:50:15,955 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:50:18,827 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='MTF', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:50:18,829 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:50:18,849 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:50:18,868 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:50:18,868 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Combine', 'text': 'Combine'}, {'id': 'MTF', 'text': 'MTF'}], 'id': 'ledger_report'}, 'last_updated': '2025-06-26T05:20:15.258032', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client']}
2025-06-26 10:50:18,886 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:18,924 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:18,961 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:18,998 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:19,035 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:19,054 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'MTF', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:50:19,074 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:19,093 mlscoringinference [INFO | chatbot_session.py : update_segment : 275] --> Statement type for click id: MTF is 'T'.
2025-06-26 10:50:19,111 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:19,112 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'exchange_seg': 'MTF', 'date_type': 'Effective', 'return_type': None, 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-26T05:20:19.075108'}
2025-06-26 10:50:19,115 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: MTF
2025-06-26 10:50:19,134 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:19,135 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: MTF is 'Emod'.
2025-06-26 10:50:19,135 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: MTF
2025-06-26 10:50:19,154 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:19,154 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: MTF is 'Commodity'.
2025-06-26 10:50:19,173 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:19,191 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: MTF is 'Effective'.
2025-06-26 10:50:19,192 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : MTF
2025-06-26 10:50:19,192 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'midapi', 'endpoint': '', 'id': 'MTF'}
2025-06-26 10:50:19,210 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:50:19,211 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'exchange_seg': 'MTF', 'date_type': 'Effective', 'return_type': None, 'api_endpoint': 'ledger_report'}, 'last_updated': '2025-06-26T05:20:19.174046'}
2025-06-26 10:50:19,211 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:50:19,230 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:50:19,231 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:50:19,231 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:50:19,232 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:50:19,249 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:50:19,268 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_mid_stage_api : 112] --> Calling mid-stage endpoint 'MTF' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'type': 'MTF'}
2025-06-26 10:50:19,270 mlscoringinference [INFO | external_api_wrapper.py : parse_mtf_response : 262] --> Here is the payload data: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'type': 'MTF'}
2025-06-26 10:50:19,328 mlscoringinference [CRITICAL | endpoint_api_handler.py : handle_mid_stage_api : 124] --> Error in mid-stage call 'MTF': 'NoneType' object has no attribute 'lower'
Traceback (most recent call last):
  File "D:\mofsl-wmchatbot-repo\chatbot_backend\engine\api_handlers\endpoint_api_handler.py", line 117, in handle_mid_stage_api
    # Transform raw DP ID response to a chatbot-friendly options list
AttributeError: 'NoneType' object has no attribute 'lower'
2025-06-26 10:50:19,330 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:50:19,335 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:50:19,369 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:50:19,371 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:50:19,393 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:50:19,412 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:50:19,431 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:50:19,433 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:52:14,440 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='profit_and_loss_statement', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:52:14,441 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:52:14,465 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:52:14,484 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:52:14,485 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:20:19.395019', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF']}
2025-06-26 10:52:14,521 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:14,558 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:14,595 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:14,632 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:14,670 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:14,689 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'profit_and_loss_statement', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:52:14,709 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:14,709 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'return_type': None, 'api_endpoint': 'profit_and_loss_statement'}, 'last_updated': '2025-06-26T05:22:14.671646'}
2025-06-26 10:52:14,710 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: profit_and_loss_statement
2025-06-26 10:52:14,728 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:14,729 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: profit_and_loss_statement is 'Emod'.
2025-06-26 10:52:14,729 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: profit_and_loss_statement
2025-06-26 10:52:14,749 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:14,749 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: profit_and_loss_statement is 'Commodity'.
2025-06-26 10:52:14,772 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:14,773 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: profit_and_loss_statement is 'Effective'.
2025-06-26 10:52:14,773 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : profit_and_loss_statement
2025-06-26 10:52:14,773 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'profit_and_loss_statement'}
2025-06-26 10:52:14,794 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:52:14,813 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'profit_and_loss_statement'}
2025-06-26 10:52:14,813 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:52:14,815 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:52:17,018 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='current_fy', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:52:17,021 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:52:17,041 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:52:17,060 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:52:17,060 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'profit_and_loss_statement'}, 'last_updated': '2025-06-26T05:22:14.775646', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client']}
2025-06-26 10:52:17,081 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:17,118 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:17,154 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:17,191 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:17,229 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:17,248 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'current_fy', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:52:17,267 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:17,304 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:17,341 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:17,341 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2025', 'to_date': '03/31/2026', 'return_type': None, 'api_endpoint': 'profit_and_loss_statement'}, 'last_updated': '2025-06-26T05:22:17.305580'}
2025-06-26 10:52:17,345 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: current_fy
2025-06-26 10:52:17,364 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:17,368 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: current_fy is 'Emod'.
2025-06-26 10:52:17,368 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: current_fy
2025-06-26 10:52:17,387 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:17,388 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: current_fy is 'Commodity'.
2025-06-26 10:52:17,406 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:17,407 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: current_fy is 'Effective'.
2025-06-26 10:52:17,407 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : current_fy
2025-06-26 10:52:17,407 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'current_fy'}
2025-06-26 10:52:17,426 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:52:17,445 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'current_fy'}
2025-06-26 10:52:17,445 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:52:17,447 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:52:19,556 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='Link', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:52:19,557 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:52:19,578 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:52:19,596 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:52:19,597 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'current_fy'}, 'last_updated': '2025-06-26T05:22:17.408905', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement']}
2025-06-26 10:52:19,615 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:19,653 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:19,690 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:19,727 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:19,763 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:19,783 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'Link', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:52:19,802 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:19,821 mlscoringinference [INFO | chatbot_session.py : update_return_type : 304] --> Return type: Link
2025-06-26 10:52:19,840 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:19,841 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2025', 'to_date': '03/31/2026', 'return_type': 'Link', 'api_endpoint': 'profit_and_loss_statement'}, 'last_updated': '2025-06-26T05:22:19.802503'}
2025-06-26 10:52:19,842 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: Link
2025-06-26 10:52:19,860 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:19,861 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: Link is 'Emod'.
2025-06-26 10:52:19,861 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: Link
2025-06-26 10:52:19,880 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:19,881 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: Link is 'Commodity'.
2025-06-26 10:52:19,903 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:19,903 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: Link is 'Effective'.
2025-06-26 10:52:19,904 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : Link
2025-06-26 10:52:19,904 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': ' ', 'id': 'Link'}
2025-06-26 10:52:19,904 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:52:19,922 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:52:19,923 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2025', 'to_date': '03/31/2026', 'return_type': 'Link', 'api_endpoint': 'profit_and_loss_statement'}, 'last_updated': '2025-06-26T05:22:19.802503'}
2025-06-26 10:52:19,927 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:52:19,946 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:52:19,946 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:52:19,946 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:52:19,947 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:52:19,947 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:52:19,947 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> profit_and_loss_statement - API ENDPOINT
2025-06-26 10:52:19,947 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'profit_and_loss_statement' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2025', 'to_date': '03/31/2026', 'return_type': 'Link'}
2025-06-26 10:52:20,627 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'profit_and_loss_statement': {'Status': 'Failure', 'Message': 'An unexpected error occurred. Please try again later.'}
2025-06-26 10:52:20,628 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'profit_and_loss_statement' call successful
2025-06-26 10:52:20,630 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Failure', 'Message': 'An unexpected error occurred. Please try again later.', 'action': 'result'}
2025-06-26 10:52:20,631 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Failure', 'Message': 'An unexpected error occurred. Please try again later.', 'action': 'result'} - RESPONSE
2025-06-26 10:52:20,631 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:52:20,632 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:52:20,670 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:52:20,673 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:52:20,693 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:52:20,713 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:52:20,732 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:52:20,737 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:54:44,393 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='brokerage_report', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:54:44,394 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:54:44,415 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:54:44,435 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:54:44,436 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:22:20.694605', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement', 'current_fy']}
2025-06-26 10:54:44,472 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:44,508 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:44,547 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:44,584 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:44,621 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:44,639 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'brokerage_report', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:54:44,659 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:44,660 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'brokerage_report'}, 'last_updated': '2025-06-26T05:24:44.621802'}
2025-06-26 10:54:44,660 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: brokerage_report
2025-06-26 10:54:44,678 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:44,679 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: brokerage_report is 'Emod'.
2025-06-26 10:54:44,680 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: brokerage_report
2025-06-26 10:54:44,699 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:44,700 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: brokerage_report is 'Commodity'.
2025-06-26 10:54:44,721 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:44,722 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: brokerage_report is 'Effective'.
2025-06-26 10:54:44,722 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : brokerage_report
2025-06-26 10:54:44,723 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'brokerage_report', 'id': 'brokerage_report'}
2025-06-26 10:54:44,723 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:54:44,741 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:44,742 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'brokerage_report'}, 'last_updated': '2025-06-26T05:24:44.621802'}
2025-06-26 10:54:44,742 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:54:44,760 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:54:44,760 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:54:44,763 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:54:44,763 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:54:44,764 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:54:44,764 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> brokerage_report - API ENDPOINT
2025-06-26 10:54:44,764 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'brokerage_report' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe'}
2025-06-26 10:54:44,938 mlscoringinference [INFO | external_api_wrapper.py : get_brokerage_statement : 170] --> <Response [200]> - BROKERAGE REPORT
2025-06-26 10:54:44,940 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'brokerage_report': {'Status': 'Success', 'Data': {'Table1': [{'Equity': 'Trading', 'Description': '50395|TRD(0.03%-0%)M3P              '}, {'Equity': 'Delivery', 'Description': '4857|DEL(0.3%)M3P                  '}], 'Table2': [{'Derivative': 'Future', 'Description': ''}, {'Derivative': 'Future', 'Description': '41426|TRD(0.04% - 0%) M1P      '}, {'Derivative': 'Option', 'Description': '2|BRKG ON LOT'}, {'Derivative': 'Option', 'Description': '22|40_LOT'}, {'Derivative': 'Option', 'Description': '7|EXCEPT_NIFTY_60/LOT'}, {'Derivative': 'Ex/Asgn', 'Description': ''}], 'Table3': [], 'Table4': [], 'Table5': [{'MF Tariff': 'Purchase Profile', 'Description': '1003 Default 0% charge buy profile'}, {'MF Tariff': 'Redemption Profile', 'Description': '1004 Default 0% charge sell profile'}]}}
2025-06-26 10:54:44,941 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'brokerage_report' call successful
2025-06-26 10:54:44,943 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': {'Table1': [{'Equity': 'Trading', 'Description': '50395|TRD(0.03%-0%)M3P              '}, {'Equity': 'Delivery', 'Description': '4857|DEL(0.3%)M3P                  '}], 'Table2': [{'Derivative': 'Future', 'Description': ''}, {'Derivative': 'Future', 'Description': '41426|TRD(0.04% - 0%) M1P      '}, {'Derivative': 'Option', 'Description': '2|BRKG ON LOT'}, {'Derivative': 'Option', 'Description': '22|40_LOT'}, {'Derivative': 'Option', 'Description': '7|EXCEPT_NIFTY_60/LOT'}, {'Derivative': 'Ex/Asgn', 'Description': ''}], 'Table3': [], 'Table4': [], 'Table5': [{'MF Tariff': 'Purchase Profile', 'Description': '1003 Default 0% charge buy profile'}, {'MF Tariff': 'Redemption Profile', 'Description': '1004 Default 0% charge sell profile'}]}, 'action': 'result'}
2025-06-26 10:54:44,944 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': {'Table1': [{'Equity': 'Trading', 'Description': '50395|TRD(0.03%-0%)M3P              '}, {'Equity': 'Delivery', 'Description': '4857|DEL(0.3%)M3P                  '}], 'Table2': [{'Derivative': 'Future', 'Description': ''}, {'Derivative': 'Future', 'Description': '41426|TRD(0.04% - 0%) M1P      '}, {'Derivative': 'Option', 'Description': '2|BRKG ON LOT'}, {'Derivative': 'Option', 'Description': '22|40_LOT'}, {'Derivative': 'Option', 'Description': '7|EXCEPT_NIFTY_60/LOT'}, {'Derivative': 'Ex/Asgn', 'Description': ''}], 'Table3': [], 'Table4': [], 'Table5': [{'MF Tariff': 'Purchase Profile', 'Description': '1003 Default 0% charge buy profile'}, {'MF Tariff': 'Redemption Profile', 'Description': '1004 Default 0% charge sell profile'}]}, 'action': 'result'} - RESPONSE
2025-06-26 10:54:44,945 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:54:44,947 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:54:44,977 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:54:44,978 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:54:45,000 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:54:45,019 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:54:45,039 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:54:45,044 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:54:50,557 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='mf_status', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:54:50,558 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:54:50,580 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:54:50,599 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:54:50,600 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:24:45.001205', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement', 'current_fy']}
2025-06-26 10:54:50,638 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:50,674 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:50,711 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:50,749 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:50,786 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:50,805 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'mf_status', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:54:50,824 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:50,825 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'order_type': None, 'api_endpoint': 'mf_status'}, 'last_updated': '2025-06-26T05:24:50.786833'}
2025-06-26 10:54:50,826 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: mf_status
2025-06-26 10:54:50,844 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:50,845 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: mf_status is 'Emod'.
2025-06-26 10:54:50,845 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: mf_status
2025-06-26 10:54:50,864 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:50,865 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: mf_status is 'Commodity'.
2025-06-26 10:54:50,887 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:50,887 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: mf_status is 'Effective'.
2025-06-26 10:54:50,888 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : mf_status
2025-06-26 10:54:50,888 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'sip', 'text': 'SIP'}, {'id': 'xsip', 'text': 'XSIP'}, {'id': 'isip', 'text': 'ISIP'}, {'id': 'fp', 'text': 'Lumpsum'}, {'id': 'mn', 'text': 'Mandate'}], 'id': 'mf_status'}
2025-06-26 10:54:50,906 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:54:50,925 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'sip', 'text': 'SIP'}, {'id': 'xsip', 'text': 'XSIP'}, {'id': 'isip', 'text': 'ISIP'}, {'id': 'fp', 'text': 'Lumpsum'}, {'id': 'mn', 'text': 'Mandate'}], 'id': 'mf_status'}
2025-06-26 10:54:50,926 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:54:50,929 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:54:53,404 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='sip', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:54:53,406 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:54:53,426 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:54:53,444 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:54:53,444 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'sip', 'text': 'SIP'}, {'id': 'xsip', 'text': 'XSIP'}, {'id': 'isip', 'text': 'ISIP'}, {'id': 'fp', 'text': 'Lumpsum'}, {'id': 'mn', 'text': 'Mandate'}], 'id': 'mf_status'}, 'last_updated': '2025-06-26T05:24:50.888090', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement', 'current_fy', 'initial_client']}
2025-06-26 10:54:53,463 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:53,499 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:53,536 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:53,572 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:53,609 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:53,627 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'sip', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:54:53,646 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:53,647 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'order_type': None, 'api_endpoint': 'mf_status'}, 'last_updated': '2025-06-26T05:24:53.609580'}
2025-06-26 10:54:53,665 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:53,683 mlscoringinference [INFO | chatbot_session.py : order_type : 404] --> Segment type for click id: sip is 'SIP'.
2025-06-26 10:54:53,702 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:53,703 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: sip is 'Emod'.
2025-06-26 10:54:53,706 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: sip
2025-06-26 10:54:53,724 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:53,725 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: sip is 'Commodity'.
2025-06-26 10:54:53,743 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:53,743 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: sip is 'Effective'.
2025-06-26 10:54:53,744 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : sip
2025-06-26 10:54:53,744 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'mf_status', 'id': 'sip'}
2025-06-26 10:54:53,744 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:54:53,763 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:54:53,764 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'order_type': 'SIP', 'api_endpoint': 'mf_status'}, 'last_updated': '2025-06-26T05:24:53.665611'}
2025-06-26 10:54:53,766 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:54:53,785 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:54:53,786 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:54:53,787 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:54:53,787 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:54:53,788 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:54:53,788 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> mf_status - API ENDPOINT
2025-06-26 10:54:53,788 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'mf_status' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'order_type': 'SIP'}
2025-06-26 10:54:53,912 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'mf_status': {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=222693762C89'}
2025-06-26 10:54:53,912 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'mf_status' call successful
2025-06-26 10:54:53,916 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=222693762C89', 'action': 'result'}
2025-06-26 10:54:53,917 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=222693762C89', 'action': 'result'} - RESPONSE
2025-06-26 10:54:53,917 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:54:53,919 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:54:53,948 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:54:53,949 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:54:53,970 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:54:53,989 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:54:54,009 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:54:54,012 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:55:01,393 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='fund_transfer_status', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:55:01,394 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:55:01,416 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:01,434 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:01,435 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:24:53.970271', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement', 'current_fy', 'initial_client', 'mf_status']}
2025-06-26 10:55:01,472 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:01,508 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:01,545 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:01,581 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:01,619 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:01,639 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'fund_transfer_status', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:55:01,657 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:01,658 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'fund_transfer_status'}, 'last_updated': '2025-06-26T05:25:01.619626'}
2025-06-26 10:55:01,658 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: fund_transfer_status
2025-06-26 10:55:01,676 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:01,677 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: fund_transfer_status is 'Emod'.
2025-06-26 10:55:01,677 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: fund_transfer_status
2025-06-26 10:55:01,695 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:01,695 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: fund_transfer_status is 'Commodity'.
2025-06-26 10:55:01,714 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:01,715 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: fund_transfer_status is 'Effective'.
2025-06-26 10:55:01,717 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : fund_transfer_status
2025-06-26 10:55:01,718 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'fund_transfer_status', 'id': 'fund_transfer_status'}
2025-06-26 10:55:01,718 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:55:01,736 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:01,737 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'fund_transfer_status'}, 'last_updated': '2025-06-26T05:25:01.619626'}
2025-06-26 10:55:01,737 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:55:01,756 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:55:01,756 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:55:01,756 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:55:01,757 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:55:01,757 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:55:01,757 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> fund_transfer_status - API ENDPOINT
2025-06-26 10:55:01,757 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'fund_transfer_status' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe'}
2025-06-26 10:55:01,917 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'fund_transfer_status': {'Status': 'Failure', 'Message': 'Sorry, No Fund Transfer In Last One month.'}
2025-06-26 10:55:01,917 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'fund_transfer_status' call successful
2025-06-26 10:55:01,922 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Failure', 'Message': 'Sorry, No Fund Transfer In Last One month.', 'action': 'result'}
2025-06-26 10:55:01,922 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Failure', 'Message': 'Sorry, No Fund Transfer In Last One month.', 'action': 'result'} - RESPONSE
2025-06-26 10:55:01,923 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:55:01,924 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:55:01,953 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:55:01,954 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:55:01,972 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:01,992 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:02,011 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:55:02,013 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:55:11,174 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='sauda_details', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:55:11,175 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:55:11,198 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:11,217 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:11,217 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:25:01.973892', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement', 'current_fy', 'initial_client', 'mf_status']}
2025-06-26 10:55:11,256 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:11,293 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:11,329 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:11,366 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:11,403 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:11,422 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'sauda_details', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:55:11,440 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:11,441 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'return_type': None, 'api_endpoint': 'sauda_details'}, 'last_updated': '2025-06-26T05:25:11.404117'}
2025-06-26 10:55:11,443 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: sauda_details
2025-06-26 10:55:11,460 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:11,461 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: sauda_details is 'Emod'.
2025-06-26 10:55:11,464 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: sauda_details
2025-06-26 10:55:11,484 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:11,484 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: sauda_details is 'Commodity'.
2025-06-26 10:55:11,502 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:11,503 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: sauda_details is 'Effective'.
2025-06-26 10:55:11,503 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : sauda_details
2025-06-26 10:55:11,503 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'sauda_details'}
2025-06-26 10:55:11,522 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:11,541 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'sauda_details'}
2025-06-26 10:55:11,542 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:55:11,543 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:55:13,888 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='previous_fy', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:55:13,892 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:55:13,912 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:13,931 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:13,931 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'sauda_details'}, 'last_updated': '2025-06-26T05:25:11.503565', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement', 'current_fy', 'initial_client', 'mf_status', 'initial_client']}
2025-06-26 10:55:13,950 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:13,986 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:14,023 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:14,059 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:14,097 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:14,116 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'previous_fy', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:55:14,135 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:14,171 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:14,208 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:14,209 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025', 'return_type': None, 'api_endpoint': 'sauda_details'}, 'last_updated': '2025-06-26T05:25:14.172914'}
2025-06-26 10:55:14,211 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: previous_fy
2025-06-26 10:55:14,231 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:14,232 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: previous_fy is 'Emod'.
2025-06-26 10:55:14,233 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: previous_fy
2025-06-26 10:55:14,252 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:14,253 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: previous_fy is 'Commodity'.
2025-06-26 10:55:14,274 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:14,275 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: previous_fy is 'Effective'.
2025-06-26 10:55:14,277 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : previous_fy
2025-06-26 10:55:14,277 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'previous_fy'}
2025-06-26 10:55:14,296 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:14,315 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'previous_fy'}
2025-06-26 10:55:14,315 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:55:14,316 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:55:16,515 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='Link', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:55:16,518 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:55:16,538 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:16,557 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:16,557 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'previous_fy'}, 'last_updated': '2025-06-26T05:25:14.278858', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement', 'current_fy', 'initial_client', 'mf_status', 'initial_client', 'sauda_details']}
2025-06-26 10:55:16,576 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:16,612 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:16,649 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:16,686 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:16,722 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:16,742 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'Link', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:55:16,760 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:16,779 mlscoringinference [INFO | chatbot_session.py : update_return_type : 304] --> Return type: Link
2025-06-26 10:55:16,799 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:16,800 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025', 'return_type': 'Link', 'api_endpoint': 'sauda_details'}, 'last_updated': '2025-06-26T05:25:16.762038'}
2025-06-26 10:55:16,800 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: Link
2025-06-26 10:55:16,819 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:16,819 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: Link is 'Emod'.
2025-06-26 10:55:16,824 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: Link
2025-06-26 10:55:16,842 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:16,843 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: Link is 'Commodity'.
2025-06-26 10:55:16,861 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:16,861 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: Link is 'Effective'.
2025-06-26 10:55:16,862 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : Link
2025-06-26 10:55:16,862 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': ' ', 'id': 'Link'}
2025-06-26 10:55:16,862 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:55:16,881 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:16,881 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025', 'return_type': 'Link', 'api_endpoint': 'sauda_details'}, 'last_updated': '2025-06-26T05:25:16.762038'}
2025-06-26 10:55:16,884 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:55:16,905 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:55:16,906 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:55:16,906 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:55:16,907 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:55:16,907 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:55:16,907 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> sauda_details - API ENDPOINT
2025-06-26 10:55:16,907 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'sauda_details' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025', 'return_type': 'Link'}
2025-06-26 10:55:20,829 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'sauda_details': {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=B341E26EFEEC'}
2025-06-26 10:55:20,830 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'sauda_details' call successful
2025-06-26 10:55:20,834 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=B341E26EFEEC', 'action': 'result'}
2025-06-26 10:55:20,835 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=B341E26EFEEC', 'action': 'result'} - RESPONSE
2025-06-26 10:55:20,835 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:55:20,837 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:55:20,869 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:55:20,870 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:55:20,893 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:20,911 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:20,930 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:55:20,932 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:55:39,817 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='segment_addition', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:55:39,818 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:55:39,838 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:39,858 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:39,858 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:25:20.893772', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement', 'current_fy', 'initial_client', 'mf_status', 'initial_client', 'sauda_details', 'previous_fy']}
2025-06-26 10:55:39,901 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:39,938 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:39,978 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:40,014 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:40,052 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:40,071 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'segment_addition', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:55:40,094 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:40,095 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'segment_addition'}, 'last_updated': '2025-06-26T05:25:40.053708'}
2025-06-26 10:55:40,095 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: segment_addition
2025-06-26 10:55:40,113 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:40,114 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: segment_addition is 'Emod'.
2025-06-26 10:55:40,114 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: segment_addition
2025-06-26 10:55:40,132 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:40,132 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: segment_addition is 'Commodity'.
2025-06-26 10:55:40,153 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:40,154 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: segment_addition is 'Effective'.
2025-06-26 10:55:40,154 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : segment_addition
2025-06-26 10:55:40,155 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'segment_addition', 'id': 'segment_addition'}
2025-06-26 10:55:40,155 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:55:40,174 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:55:40,175 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'segment_addition'}, 'last_updated': '2025-06-26T05:25:40.053708'}
2025-06-26 10:55:40,175 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:55:40,195 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:55:40,196 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:55:40,198 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:55:40,198 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:55:40,199 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:55:40,200 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> segment_addition - API ENDPOINT
2025-06-26 10:55:40,200 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'segment_addition' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe'}
2025-06-26 10:55:40,304 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'segment_addition': {'Status': 'Success', 'Data': [{'Link': 'https://invest.motilaloswal.com/consent/ConsentActivation?Input=FnyujcA26ypE/Mr2JQdSLmV4/WGtwN5/JK5EHqinyik='}]}
2025-06-26 10:55:40,305 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'segment_addition' call successful
2025-06-26 10:55:40,309 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Link': 'https://invest.motilaloswal.com/consent/ConsentActivation?Input=FnyujcA26ypE/Mr2JQdSLmV4/WGtwN5/JK5EHqinyik='}], 'action': 'result'}
2025-06-26 10:55:40,309 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Link': 'https://invest.motilaloswal.com/consent/ConsentActivation?Input=FnyujcA26ypE/Mr2JQdSLmV4/WGtwN5/JK5EHqinyik='}], 'action': 'result'} - RESPONSE
2025-06-26 10:55:40,310 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:55:40,311 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:55:40,343 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:55:40,345 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:55:40,366 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:40,385 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:55:40,404 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:55:40,406 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:56:02,508 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='ipo', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:56:02,509 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:56:02,530 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:56:02,548 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:56:02,549 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:25:40.367851', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement', 'current_fy', 'initial_client', 'mf_status', 'initial_client', 'sauda_details', 'previous_fy']}
2025-06-26 10:56:02,591 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:02,632 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:02,673 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:02,710 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:02,749 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:02,767 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'ipo', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:56:02,789 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:02,790 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'ipo'}, 'last_updated': '2025-06-26T05:26:02.749290'}
2025-06-26 10:56:02,792 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: ipo
2025-06-26 10:56:02,811 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:02,812 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: ipo is 'Emod'.
2025-06-26 10:56:02,812 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: ipo
2025-06-26 10:56:02,829 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:02,829 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: ipo is 'Commodity'.
2025-06-26 10:56:02,851 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:02,851 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: ipo is 'Effective'.
2025-06-26 10:56:02,851 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : ipo
2025-06-26 10:56:02,851 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': '', 'id': 'ipo'}
2025-06-26 10:56:02,851 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:56:02,870 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:02,870 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'api_endpoint': 'ipo'}, 'last_updated': '2025-06-26T05:26:02.749290'}
2025-06-26 10:56:02,871 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:56:02,892 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:56:02,892 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:56:02,895 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:56:02,895 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:56:02,895 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:56:02,895 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> ipo - API ENDPOINT
2025-06-26 10:56:02,895 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'ipo' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe'}
2025-06-26 10:56:02,989 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'ipo': {'Status': 'Success', 'Data': {'Table1': [{'NRI': 'TNPL', 'FloorPrice': '266.00', 'BiddingLot': '1', 'CloseDate': '19 Jul 2025'}], 'Table2': [{'NSELink': 'https://www.nseindia.com/market-data/all-upcoming-issues-ipo', 'BSELink': 'https://www.bseindia.com/markets/PublicIssues/IPOIssues_new.aspx?expandable=4&id=1&Type=p', 'IPOFaq': 'http://mofsl.co/BOTPDFFiles/Common/IPOFAQ.PDF', 'InvestorApp': 'http://mofsl.co/BOTPDFFiles/Common/IPOProcessThroughMobileApp.PDF'}]}}
2025-06-26 10:56:02,990 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'ipo' call successful
2025-06-26 10:56:02,993 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': {'Table1': [{'NRI': 'TNPL', 'FloorPrice': '266.00', 'BiddingLot': '1', 'CloseDate': '19 Jul 2025'}], 'Table2': [{'NSELink': 'https://www.nseindia.com/market-data/all-upcoming-issues-ipo', 'BSELink': 'https://www.bseindia.com/markets/PublicIssues/IPOIssues_new.aspx?expandable=4&id=1&Type=p', 'IPOFaq': 'http://mofsl.co/BOTPDFFiles/Common/IPOFAQ.PDF', 'InvestorApp': 'http://mofsl.co/BOTPDFFiles/Common/IPOProcessThroughMobileApp.PDF'}]}, 'action': 'result'}
2025-06-26 10:56:02,994 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': {'Table1': [{'NRI': 'TNPL', 'FloorPrice': '266.00', 'BiddingLot': '1', 'CloseDate': '19 Jul 2025'}], 'Table2': [{'NSELink': 'https://www.nseindia.com/market-data/all-upcoming-issues-ipo', 'BSELink': 'https://www.bseindia.com/markets/PublicIssues/IPOIssues_new.aspx?expandable=4&id=1&Type=p', 'IPOFaq': 'http://mofsl.co/BOTPDFFiles/Common/IPOFAQ.PDF', 'InvestorApp': 'http://mofsl.co/BOTPDFFiles/Common/IPOProcessThroughMobileApp.PDF'}]}, 'action': 'result'} - RESPONSE
2025-06-26 10:56:02,994 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:56:02,995 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:56:03,024 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:56:03,025 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:56:03,046 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:56:03,067 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:56:03,086 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:56:03,089 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:56:13,754 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='sauda_details', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:56:13,755 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:56:13,777 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:56:13,797 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:56:13,798 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:26:03.047177', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement', 'current_fy', 'initial_client', 'mf_status', 'initial_client', 'sauda_details', 'previous_fy']}
2025-06-26 10:56:13,835 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:13,871 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:13,911 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:13,948 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:13,989 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:14,009 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'sauda_details', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:56:14,031 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:14,032 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': None, 'to_date': None, 'return_type': None, 'api_endpoint': 'sauda_details'}, 'last_updated': '2025-06-26T05:26:13.990176'}
2025-06-26 10:56:14,034 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: sauda_details
2025-06-26 10:56:14,053 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:14,053 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: sauda_details is 'Emod'.
2025-06-26 10:56:14,054 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: sauda_details
2025-06-26 10:56:14,072 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:14,073 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: sauda_details is 'Commodity'.
2025-06-26 10:56:14,093 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:14,094 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: sauda_details is 'Effective'.
2025-06-26 10:56:14,097 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : sauda_details
2025-06-26 10:56:14,098 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'sauda_details'}
2025-06-26 10:56:14,117 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:56:14,136 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'sauda_details'}
2025-06-26 10:56:14,137 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:56:14,141 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:56:16,278 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='previous_fy', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:56:16,280 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:56:16,303 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:56:16,323 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:56:16,323 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'sauda_details'}, 'last_updated': '2025-06-26T05:26:14.099183', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement', 'current_fy', 'initial_client', 'mf_status', 'initial_client', 'sauda_details', 'previous_fy', 'initial_client']}
2025-06-26 10:56:16,344 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:16,383 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:16,420 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:16,460 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:16,497 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:16,516 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'previous_fy', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:56:16,535 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:16,577 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:16,614 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:16,614 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025', 'return_type': None, 'api_endpoint': 'sauda_details'}, 'last_updated': '2025-06-26T05:26:16.578157'}
2025-06-26 10:56:16,617 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: previous_fy
2025-06-26 10:56:16,638 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:16,639 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: previous_fy is 'Emod'.
2025-06-26 10:56:16,639 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: previous_fy
2025-06-26 10:56:16,658 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:16,659 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: previous_fy is 'Commodity'.
2025-06-26 10:56:16,682 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:56:16,683 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: previous_fy is 'Effective'.
2025-06-26 10:56:16,683 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : previous_fy
2025-06-26 10:56:16,683 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'previous_fy'}
2025-06-26 10:56:16,702 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:56:16,721 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'previous_fy'}
2025-06-26 10:56:16,722 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:56:16,723 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:58:42,370 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='Link', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:58:42,372 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:58:42,392 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:58:42,411 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:58:42,412 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'previous_fy'}, 'last_updated': '2025-06-26T05:26:16.684208', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement', 'current_fy', 'initial_client', 'mf_status', 'initial_client', 'sauda_details', 'previous_fy', 'initial_client', 'sauda_details']}
2025-06-26 10:58:42,431 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:58:42,468 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:58:42,505 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:58:42,542 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:58:42,579 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:58:42,598 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'Link', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:58:42,617 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:58:42,636 mlscoringinference [INFO | chatbot_session.py : update_return_type : 304] --> Return type: Link
2025-06-26 10:58:42,654 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:58:42,655 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025', 'return_type': 'Link', 'api_endpoint': 'sauda_details'}, 'last_updated': '2025-06-26T05:28:42.618159'}
2025-06-26 10:58:42,655 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: Link
2025-06-26 10:58:42,675 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:58:42,676 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: Link is 'Emod'.
2025-06-26 10:58:42,676 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: Link
2025-06-26 10:58:42,694 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:58:42,695 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: Link is 'Commodity'.
2025-06-26 10:58:42,713 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:58:42,714 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: Link is 'Effective'.
2025-06-26 10:58:42,718 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : Link
2025-06-26 10:58:42,718 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': ' ', 'id': 'Link'}
2025-06-26 10:58:42,719 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:58:42,738 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:58:42,739 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025', 'return_type': 'Link', 'api_endpoint': 'sauda_details'}, 'last_updated': '2025-06-26T05:28:42.618159'}
2025-06-26 10:58:42,740 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:58:42,759 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:58:42,759 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:58:42,763 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:58:42,764 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:58:42,764 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:58:42,765 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> sauda_details - API ENDPOINT
2025-06-26 10:58:42,765 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'sauda_details' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'from_date': '04/01/2024', 'to_date': '03/31/2025', 'return_type': 'Link'}
2025-06-26 10:58:44,081 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'sauda_details': {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=C5861C338376'}
2025-06-26 10:58:44,081 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'sauda_details' call successful
2025-06-26 10:58:44,086 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=C5861C338376', 'action': 'result'}
2025-06-26 10:58:44,087 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': 'http://10.167.203.119:8091//?SH=C5861C338376', 'action': 'result'} - RESPONSE
2025-06-26 10:58:44,088 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:58:44,091 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:58:44,124 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:58:44,125 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:58:44,146 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:58:44,165 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:58:44,186 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:58:44,189 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:59:38,755 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='dis_drf_status', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:59:38,756 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:59:38,778 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:59:38,797 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:59:38,797 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:28:44.147115', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement', 'current_fy', 'initial_client', 'mf_status', 'initial_client', 'sauda_details', 'previous_fy', 'initial_client', 'sauda_details', 'previous_fy']}
2025-06-26 10:59:38,835 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:38,872 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:38,910 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:38,946 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:38,983 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:39,002 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'dis_drf_status', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:59:39,020 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:39,021 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'request_type': None, 'api_endpoint': 'dis_drf_status'}, 'last_updated': '2025-06-26T05:29:38.983255'}
2025-06-26 10:59:39,023 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: dis_drf_status
2025-06-26 10:59:39,042 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:39,042 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: dis_drf_status is 'Emod'.
2025-06-26 10:59:39,042 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: dis_drf_status
2025-06-26 10:59:39,063 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:39,063 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: dis_drf_status is 'Commodity'.
2025-06-26 10:59:39,082 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:39,082 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: dis_drf_status is 'Effective'.
2025-06-26 10:59:39,085 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : dis_drf_status
2025-06-26 10:59:39,086 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'disStatus', 'text': 'DIS'}, {'id': 'drfStatus', 'text': 'DRF'}], 'id': 'dis_drf_status'}
2025-06-26 10:59:39,104 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:59:39,123 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'disStatus', 'text': 'DIS'}, {'id': 'drfStatus', 'text': 'DRF'}], 'id': 'dis_drf_status'}
2025-06-26 10:59:39,124 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:59:39,127 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 10:59:41,726 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='75EdyRMa7tavlHQm5lE6DSe' client_id='NAGSYA5' role='CLIENT' token='7d3ea2dc-df9e-4ca5-83c4-1c21929d3465' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='disStatus', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 10:59:41,728 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 10:59:41,749 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:59:41,767 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe, found: Yes
2025-06-26 10:59:41,767 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'disStatus', 'text': 'DIS'}, {'id': 'drfStatus', 'text': 'DRF'}], 'id': 'dis_drf_status'}, 'last_updated': '2025-06-26T05:29:39.086268', 'history_stack': ['initial_client', 'dp_statement', 'transaction_statement', 'initial_client', 'dp_statement', 'holding_statement', 'dp_holdings', 'initial_client', 'dp_statement', 'holding_statement', 'initial_client', 'holding_statement', 'initial_client', 'stt_ctt_certificate', 'initial_client', 'markets_research_client', 'initial_client', 'markets_research_client', 'initial_client', 'upcoming_buyback', 'initial_client', 'margin_shortage', 'previous_fy', 'initial_client', 'ledger_report', 'MTF', 'initial_client', 'profit_and_loss_statement', 'current_fy', 'initial_client', 'mf_status', 'initial_client', 'sauda_details', 'previous_fy', 'initial_client', 'sauda_details', 'previous_fy', 'initial_client']}
2025-06-26 10:59:41,787 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:41,825 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:41,861 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:41,899 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:41,936 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:41,954 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'disStatus', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 10:59:41,973 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:42,010 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:42,011 mlscoringinference [INFO | chatbot_session.py : dis_drf_status : 296] --> segment-type for click id: disStatus is 'disStatus'.
2025-06-26 10:59:42,033 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:42,034 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'request_type': 'disStatus', 'api_endpoint': 'dis_drf_status'}, 'last_updated': '2025-06-26T05:29:41.974835'}
2025-06-26 10:59:42,034 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: disStatus
2025-06-26 10:59:42,053 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:42,054 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: disStatus is 'Emod'.
2025-06-26 10:59:42,055 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: disStatus
2025-06-26 10:59:42,073 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:42,073 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: disStatus is 'Commodity'.
2025-06-26 10:59:42,092 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:42,093 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: disStatus is 'Effective'.
2025-06-26 10:59:42,095 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : disStatus
2025-06-26 10:59:42,096 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'dis_drf_status', 'id': 'disStatus'}
2025-06-26 10:59:42,096 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 10:59:42,115 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_api_payload, found: Yes
2025-06-26 10:59:42,116 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'request_type': 'disStatus', 'api_endpoint': 'dis_drf_status'}, 'last_updated': '2025-06-26T05:29:41.974835'}
2025-06-26 10:59:42,116 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 75EdyRMa7tavlHQm5lE6DSe_client_id
2025-06-26 10:59:42,135 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 75EdyRMa7tavlHQm5lE6DSe_client_id, found: No
2025-06-26 10:59:42,136 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 10:59:42,139 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 10:59:42,139 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 75EdyRMa7tavlHQm5lE6DSe
2025-06-26 10:59:42,140 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 10:59:42,141 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> dis_drf_status - API ENDPOINT
2025-06-26 10:59:42,141 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'dis_drf_status' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7d3ea2dc-df9e-4ca5-83c4-1c21929d3465', 'session_id': '75EdyRMa7tavlHQm5lE6DSe', 'request_type': 'disStatus'}
2025-06-26 10:59:42,277 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'dis_drf_status': {'type': 'https://tools.ietf.org/html/rfc9110#section-15.5.1', 'title': 'One or more validation errors occurred.', 'status': 400, 'errors': {'RefNo': ['The RefNo field is required.']}, 'traceId': '00-97b06c33b335bae0bb018d0b7c86c61c-c740399ee5a4526e-00'}
2025-06-26 10:59:42,278 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'dis_drf_status' call successful
2025-06-26 10:59:42,281 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'type': 'https://tools.ietf.org/html/rfc9110#section-15.5.1', 'title': 'One or more validation errors occurred.', 'status': 400, 'errors': {'RefNo': ['The RefNo field is required.']}, 'traceId': '00-97b06c33b335bae0bb018d0b7c86c61c-c740399ee5a4526e-00', 'action': 'result'}
2025-06-26 10:59:42,282 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'type': 'https://tools.ietf.org/html/rfc9110#section-15.5.1', 'title': 'One or more validation errors occurred.', 'status': 400, 'errors': {'RefNo': ['The RefNo field is required.']}, 'traceId': '00-97b06c33b335bae0bb018d0b7c86c61c-c740399ee5a4526e-00', 'action': 'result'} - RESPONSE
2025-06-26 10:59:42,282 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 10:59:42,284 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 11:08:22,124 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='6WaZPA1MtwumvASMUcmHiNS' client_id='NAGSYA5' role='CLIENT' token='7c56978a-6cc7-4927-bd46-73450589fd3a' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 11:08:22,125 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 11:08:22,150 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: No
2025-06-26 11:08:22,168 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: No
2025-06-26 11:08:22,188 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 11:08:22,192 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 11:08:48,668 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='6WaZPA1MtwumvASMUcmHiNS' client_id='NAGSYA5' role='CLIENT' token='7c56978a-6cc7-4927-bd46-73450589fd3a' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='emodification', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 11:08:48,669 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 11:08:48,691 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:08:48,710 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:08:48,710 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:38:22.150339', 'history_stack': []}
2025-06-26 11:08:48,746 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:48,783 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:48,820 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:48,857 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:48,893 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:48,912 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'emodification', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 11:08:48,931 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:48,931 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'type': None, 'api_endpoint': 'emodification'}, 'last_updated': '2025-06-26T05:38:48.894211'}
2025-06-26 11:08:48,934 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: emodification
2025-06-26 11:08:48,952 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:48,971 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: emodification is 'Emod'.
2025-06-26 11:08:48,972 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: emodification
2025-06-26 11:08:48,990 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:48,990 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: emodification is 'Commodity'.
2025-06-26 11:08:49,011 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:49,012 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: emodification is 'Effective'.
2025-06-26 11:08:49,012 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : emodification
2025-06-26 11:08:49,012 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'email_and_mobile', 'text': 'Email and Mobile'}, {'id': 'address', 'text': 'Address'}, {'id': 'bank', 'text': 'Bank'}, {'id': 'nominee', 'text': 'Nominee/Income Range'}], 'id': 'emodification'}
2025-06-26 11:08:49,031 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:08:49,049 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'email_and_mobile', 'text': 'Email and Mobile'}, {'id': 'address', 'text': 'Address'}, {'id': 'bank', 'text': 'Bank'}, {'id': 'nominee', 'text': 'Nominee/Income Range'}], 'id': 'emodification'}
2025-06-26 11:08:49,050 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 11:08:49,051 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 11:08:50,611 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='6WaZPA1MtwumvASMUcmHiNS' client_id='NAGSYA5' role='CLIENT' token='7c56978a-6cc7-4927-bd46-73450589fd3a' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='address', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 11:08:50,613 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 11:08:50,633 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:08:50,651 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:08:50,652 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'email_and_mobile', 'text': 'Email and Mobile'}, {'id': 'address', 'text': 'Address'}, {'id': 'bank', 'text': 'Bank'}, {'id': 'nominee', 'text': 'Nominee/Income Range'}], 'id': 'emodification'}, 'last_updated': '2025-06-26T05:38:49.013359', 'history_stack': ['initial_client']}
2025-06-26 11:08:50,673 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:50,710 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:50,747 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:50,784 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:50,822 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:50,841 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'address', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 11:08:50,860 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:50,861 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'type': 'Emod', 'api_endpoint': 'emodification'}, 'last_updated': '2025-06-26T05:38:50.823040'}
2025-06-26 11:08:50,861 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: address
2025-06-26 11:08:50,879 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:50,898 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: address is 'Emod'.
2025-06-26 11:08:50,899 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: address
2025-06-26 11:08:50,916 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:50,917 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: address is 'Commodity'.
2025-06-26 11:08:50,935 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:50,936 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: address is 'Effective'.
2025-06-26 11:08:50,936 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : address
2025-06-26 11:08:50,936 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'address_online', 'text': 'Online'}, {'id': 'address_physical', 'text': 'Physical'}], 'id': 'address'}
2025-06-26 11:08:50,955 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:08:50,974 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'address_online', 'text': 'Online'}, {'id': 'address_physical', 'text': 'Physical'}], 'id': 'address'}
2025-06-26 11:08:50,974 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 11:08:50,977 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 11:08:52,846 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='6WaZPA1MtwumvASMUcmHiNS' client_id='NAGSYA5' role='CLIENT' token='7c56978a-6cc7-4927-bd46-73450589fd3a' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='address_online', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 11:08:52,847 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 11:08:52,868 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:08:52,888 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:08:52,889 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'address_online', 'text': 'Online'}, {'id': 'address_physical', 'text': 'Physical'}], 'id': 'address'}, 'last_updated': '2025-06-26T05:38:50.937675', 'history_stack': ['initial_client', 'emodification']}
2025-06-26 11:08:52,909 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:52,945 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:52,981 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:53,018 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:53,055 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:53,073 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'address_online', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 11:08:53,092 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:53,093 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'type': 'Emod', 'api_endpoint': 'emodification'}, 'last_updated': '2025-06-26T05:38:53.055593'}
2025-06-26 11:08:53,096 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: address_online
2025-06-26 11:08:53,116 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:53,135 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: address_online is 'Emod'.
2025-06-26 11:08:53,135 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: address_online
2025-06-26 11:08:53,153 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:53,154 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: address_online is 'Commodity'.
2025-06-26 11:08:53,174 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:53,175 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: address_online is 'Effective'.
2025-06-26 11:08:53,175 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : address_online
2025-06-26 11:08:53,175 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'emodification', 'id': 'address_online'}
2025-06-26 11:08:53,175 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 11:08:53,194 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:08:53,195 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'type': 'Emod', 'api_endpoint': 'emodification'}, 'last_updated': '2025-06-26T05:38:53.117243'}
2025-06-26 11:08:53,195 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 6WaZPA1MtwumvASMUcmHiNS_client_id
2025-06-26 11:08:53,214 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_client_id, found: No
2025-06-26 11:08:53,215 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 11:08:53,215 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 11:08:53,215 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 6WaZPA1MtwumvASMUcmHiNS
2025-06-26 11:08:53,215 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 11:08:53,221 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> emodification - API ENDPOINT
2025-06-26 11:08:53,221 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'emodification' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'type': 'Emod'}
2025-06-26 11:08:53,581 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'emodification': {'Status': 'Success', 'Data': [{'Message': 'https://ekycuat.motilaloswaluat.com/EMOD/EMODIFICATION/HOME?GUID=A7E6225C-F8F7-4C92-8450-A541CF55AAD2'}]}
2025-06-26 11:08:53,582 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'emodification' call successful
2025-06-26 11:08:53,585 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Message': 'https://ekycuat.motilaloswaluat.com/EMOD/EMODIFICATION/HOME?GUID=A7E6225C-F8F7-4C92-8450-A541CF55AAD2'}], 'action': 'result'}
2025-06-26 11:08:53,586 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Message': 'https://ekycuat.motilaloswaluat.com/EMOD/EMODIFICATION/HOME?GUID=A7E6225C-F8F7-4C92-8450-A541CF55AAD2'}], 'action': 'result'} - RESPONSE
2025-06-26 11:08:53,587 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 11:08:53,589 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 11:08:53,620 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='6WaZPA1MtwumvASMUcmHiNS' client_id='NAGSYA5' role='CLIENT' token='7c56978a-6cc7-4927-bd46-73450589fd3a' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 11:08:53,620 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 11:08:53,642 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:08:53,662 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:08:53,681 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 11:08:53,682 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 11:09:54,089 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='6WaZPA1MtwumvASMUcmHiNS' client_id='NAGSYA5' role='CLIENT' token='7c56978a-6cc7-4927-bd46-73450589fd3a' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='grandfather_pnl', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 11:09:54,091 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 11:09:54,114 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:09:54,132 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:09:54,133 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:38:53.644732', 'history_stack': ['initial_client', 'emodification', 'address']}
2025-06-26 11:09:54,170 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:54,206 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:54,243 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:54,279 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:54,316 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:54,334 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'grandfather_pnl', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 11:09:54,353 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:54,354 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'from_date': None, 'to_date': None, 'api_endpoint': 'grandfather_pnl'}, 'last_updated': '2025-06-26T05:39:54.316326'}
2025-06-26 11:09:54,354 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: grandfather_pnl
2025-06-26 11:09:54,373 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:54,373 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: grandfather_pnl is 'Emod'.
2025-06-26 11:09:54,373 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: grandfather_pnl
2025-06-26 11:09:54,391 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:54,392 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: grandfather_pnl is 'Commodity'.
2025-06-26 11:09:54,413 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:54,414 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: grandfather_pnl is 'Effective'.
2025-06-26 11:09:54,414 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : grandfather_pnl
2025-06-26 11:09:54,414 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'grandfather_pnl'}
2025-06-26 11:09:54,433 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:09:54,452 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'grandfather_pnl'}
2025-06-26 11:09:54,452 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 11:09:54,457 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 11:09:56,094 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='6WaZPA1MtwumvASMUcmHiNS' client_id='NAGSYA5' role='CLIENT' token='7c56978a-6cc7-4927-bd46-73450589fd3a' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='current_fy', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 11:09:56,096 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 11:09:56,116 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:09:56,135 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:09:56,136 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'current_fy', 'text': 'Current FY'}, {'id': 'previous_fy', 'text': 'Previous FY'}], 'id': 'grandfather_pnl'}, 'last_updated': '2025-06-26T05:39:54.415334', 'history_stack': ['initial_client', 'emodification', 'address', 'initial_client']}
2025-06-26 11:09:56,154 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:56,190 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:56,227 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:56,264 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:56,301 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:56,320 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'current_fy', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 11:09:56,339 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:56,375 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:56,411 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:56,413 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'from_date': '04/01/2025', 'to_date': '03/31/2026', 'api_endpoint': 'grandfather_pnl'}, 'last_updated': '2025-06-26T05:39:56.375862'}
2025-06-26 11:09:56,416 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: current_fy
2025-06-26 11:09:56,434 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:56,436 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: current_fy is 'Emod'.
2025-06-26 11:09:56,437 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: current_fy
2025-06-26 11:09:56,456 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:56,456 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: current_fy is 'Commodity'.
2025-06-26 11:09:56,474 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:56,475 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: current_fy is 'Effective'.
2025-06-26 11:09:56,475 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : current_fy
2025-06-26 11:09:56,475 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'current_fy'}
2025-06-26 11:09:56,493 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:09:56,512 mlscoringinference [INFO | chatbot_navigator.py : navigate : 131] --> {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'current_fy'}
2025-06-26 11:09:56,512 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 11:09:56,514 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 11:09:58,022 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='6WaZPA1MtwumvASMUcmHiNS' client_id='NAGSYA5' role='CLIENT' token='7c56978a-6cc7-4927-bd46-73450589fd3a' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='Link', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 11:09:58,024 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 11:09:58,043 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:09:58,062 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:09:58,062 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'option', 'response_text': '', 'available_choices': [{'id': 'Link', 'text': 'View and Download'}, {'id': 'Email', 'text': 'Email'}], 'id': 'current_fy'}, 'last_updated': '2025-06-26T05:39:56.476257', 'history_stack': ['initial_client', 'emodification', 'address', 'initial_client', 'grandfather_pnl']}
2025-06-26 11:09:58,083 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:58,120 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:58,157 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:58,194 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:58,231 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:58,251 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'Link', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 11:09:58,270 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:58,271 mlscoringinference [INFO | chatbot_session.py : update_return_type : 304] --> Return type: Link
2025-06-26 11:09:58,290 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:58,291 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'from_date': '04/01/2025', 'to_date': '03/31/2026', 'api_endpoint': 'grandfather_pnl'}, 'last_updated': '2025-06-26T05:39:58.232354'}
2025-06-26 11:09:58,295 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: Link
2025-06-26 11:09:58,313 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:58,313 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: Link is 'Emod'.
2025-06-26 11:09:58,313 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: Link
2025-06-26 11:09:58,332 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:58,332 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: Link is 'Commodity'.
2025-06-26 11:09:58,351 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:58,351 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: Link is 'Effective'.
2025-06-26 11:09:58,356 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : Link
2025-06-26 11:09:58,356 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': ' ', 'id': 'Link'}
2025-06-26 11:09:58,356 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 11:09:58,375 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:09:58,376 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'from_date': '04/01/2025', 'to_date': '03/31/2026', 'api_endpoint': 'grandfather_pnl'}, 'last_updated': '2025-06-26T05:39:58.232354'}
2025-06-26 11:09:58,376 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 6WaZPA1MtwumvASMUcmHiNS_client_id
2025-06-26 11:09:58,394 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_client_id, found: No
2025-06-26 11:09:58,394 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 11:09:58,394 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 11:09:58,395 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 6WaZPA1MtwumvASMUcmHiNS
2025-06-26 11:09:58,395 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 11:09:58,395 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> grandfather_pnl - API ENDPOINT
2025-06-26 11:09:58,396 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'grandfather_pnl' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'from_date': '04/01/2025', 'to_date': '03/31/2026'}
2025-06-26 11:09:58,513 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'grandfather_pnl': {'Status': 'Failure', 'Message': 'Please contact customer service helpdesk.'}
2025-06-26 11:09:58,514 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'grandfather_pnl' call successful
2025-06-26 11:09:58,516 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Failure', 'Message': 'Please contact customer service helpdesk.', 'action': 'result'}
2025-06-26 11:09:58,517 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Failure', 'Message': 'Please contact customer service helpdesk.', 'action': 'result'} - RESPONSE
2025-06-26 11:09:58,517 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 11:09:58,518 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 11:09:58,549 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='6WaZPA1MtwumvASMUcmHiNS' client_id='NAGSYA5' role='CLIENT' token='7c56978a-6cc7-4927-bd46-73450589fd3a' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 11:09:58,550 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 11:09:58,568 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:09:58,588 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:09:58,608 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 11:09:58,610 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 11:10:11,414 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='6WaZPA1MtwumvASMUcmHiNS' client_id='NAGSYA5' role='CLIENT' token='7c56978a-6cc7-4927-bd46-73450589fd3a' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='rta_statement', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 11:10:11,416 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 11:10:11,437 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:10:11,456 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:10:11,456 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:39:58.570012', 'history_stack': ['initial_client', 'emodification', 'address', 'initial_client', 'grandfather_pnl', 'current_fy']}
2025-06-26 11:10:11,492 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:11,529 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:11,566 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:11,602 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:11,639 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:11,658 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'rta_statement', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 11:10:11,676 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:11,676 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'api_endpoint': 'rta_statement'}, 'last_updated': '2025-06-26T05:40:11.639999'}
2025-06-26 11:10:11,677 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: rta_statement
2025-06-26 11:10:11,696 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:11,696 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: rta_statement is 'Emod'.
2025-06-26 11:10:11,696 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: rta_statement
2025-06-26 11:10:11,715 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:11,715 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: rta_statement is 'Commodity'.
2025-06-26 11:10:11,734 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:11,735 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: rta_statement is 'Effective'.
2025-06-26 11:10:11,738 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : rta_statement
2025-06-26 11:10:11,738 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'rta_statement', 'id': 'rta_statement'}
2025-06-26 11:10:11,739 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 11:10:11,758 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:11,758 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'api_endpoint': 'rta_statement'}, 'last_updated': '2025-06-26T05:40:11.639999'}
2025-06-26 11:10:11,759 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 6WaZPA1MtwumvASMUcmHiNS_client_id
2025-06-26 11:10:11,777 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_client_id, found: No
2025-06-26 11:10:11,778 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 11:10:11,780 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 11:10:11,780 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 6WaZPA1MtwumvASMUcmHiNS
2025-06-26 11:10:11,781 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 11:10:11,781 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> rta_statement - API ENDPOINT
2025-06-26 11:10:11,781 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'rta_statement' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS'}
2025-06-26 11:10:11,854 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'rta_statement': {'Status': 'Success', 'Data': [{'Link': 'https://login.motilaloswal.com/MoClient/Pages/MFStatementBot.aspx?ID=XNBYsRryKoBNlGc6WFasUaq5bwPt/s289vghKPe6qJRN71oyVHoIUhbotpPqiKJF'}]}
2025-06-26 11:10:11,856 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'rta_statement' call successful
2025-06-26 11:10:11,858 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Link': 'https://login.motilaloswal.com/MoClient/Pages/MFStatementBot.aspx?ID=XNBYsRryKoBNlGc6WFasUaq5bwPt/s289vghKPe6qJRN71oyVHoIUhbotpPqiKJF'}], 'action': 'result'}
2025-06-26 11:10:11,859 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Link': 'https://login.motilaloswal.com/MoClient/Pages/MFStatementBot.aspx?ID=XNBYsRryKoBNlGc6WFasUaq5bwPt/s289vghKPe6qJRN71oyVHoIUhbotpPqiKJF'}], 'action': 'result'} - RESPONSE
2025-06-26 11:10:11,859 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 11:10:11,861 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 11:10:11,890 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='6WaZPA1MtwumvASMUcmHiNS' client_id='NAGSYA5' role='CLIENT' token='7c56978a-6cc7-4927-bd46-73450589fd3a' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 11:10:11,891 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 11:10:11,911 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:10:11,931 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:10:11,951 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 11:10:11,956 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 11:10:26,496 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='6WaZPA1MtwumvASMUcmHiNS' client_id='NAGSYA5' role='CLIENT' token='7c56978a-6cc7-4927-bd46-73450589fd3a' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='dormant_status', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 11:10:26,497 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 11:10:26,518 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:10:26,539 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:10:26,539 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:40:11.912867', 'history_stack': ['initial_client', 'emodification', 'address', 'initial_client', 'grandfather_pnl', 'current_fy']}
2025-06-26 11:10:26,558 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:26,594 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:26,631 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:26,668 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:26,705 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:26,724 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'dormant_status', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 11:10:26,743 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:26,744 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'api_endpoint': 'rta_statement'}, 'last_updated': '2025-06-26T05:40:26.706943'}
2025-06-26 11:10:26,744 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: dormant_status
2025-06-26 11:10:26,762 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:26,763 mlscoringinference [INFO | chatbot_session.py : emod_type : 332] --> E-type for click id: dormant_status is 'DOR'.
2025-06-26 11:10:26,765 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: dormant_status
2025-06-26 11:10:26,784 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:26,785 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: dormant_status is 'Commodity'.
2025-06-26 11:10:26,803 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:26,803 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: dormant_status is 'Effective'.
2025-06-26 11:10:26,804 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : dormant_status
2025-06-26 11:10:26,804 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'emodification', 'id': 'dormant_status'}
2025-06-26 11:10:26,804 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 11:10:26,822 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:10:26,823 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'api_endpoint': 'rta_statement'}, 'last_updated': '2025-06-26T05:40:26.706943'}
2025-06-26 11:10:26,826 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 6WaZPA1MtwumvASMUcmHiNS_client_id
2025-06-26 11:10:26,845 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_client_id, found: No
2025-06-26 11:10:26,845 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 11:10:26,846 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 11:10:26,846 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 6WaZPA1MtwumvASMUcmHiNS
2025-06-26 11:10:26,846 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 11:10:26,846 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> rta_statement - API ENDPOINT
2025-06-26 11:10:26,846 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'rta_statement' with args: {'user_id': 'NAGSYA5', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'session_id': '6WaZPA1MtwumvASMUcmHiNS'}
2025-06-26 11:10:26,899 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'rta_statement': {'Status': 'Success', 'Data': [{'Link': 'https://login.motilaloswal.com/MoClient/Pages/MFStatementBot.aspx?ID=XNBYsRryKoBNlGc6WFasUaq5bwPt/s289vghKPe6qJTA9i572aOocFB_CxCZrSgk'}]}
2025-06-26 11:10:26,899 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'rta_statement' call successful
2025-06-26 11:10:26,902 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'Status': 'Success', 'Data': [{'Link': 'https://login.motilaloswal.com/MoClient/Pages/MFStatementBot.aspx?ID=XNBYsRryKoBNlGc6WFasUaq5bwPt/s289vghKPe6qJTA9i572aOocFB_CxCZrSgk'}], 'action': 'result'}
2025-06-26 11:10:26,902 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'Status': 'Success', 'Data': [{'Link': 'https://login.motilaloswal.com/MoClient/Pages/MFStatementBot.aspx?ID=XNBYsRryKoBNlGc6WFasUaq5bwPt/s289vghKPe6qJTA9i572aOocFB_CxCZrSgk'}], 'action': 'result'} - RESPONSE
2025-06-26 11:10:26,903 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 11:10:26,904 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 11:10:26,934 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='6WaZPA1MtwumvASMUcmHiNS' client_id='NAGSYA5' role='CLIENT' token='7c56978a-6cc7-4927-bd46-73450589fd3a' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='home', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 11:10:26,934 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 11:10:26,955 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:10:26,974 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:10:26,993 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 11:10:26,996 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
2025-06-26 11:22:42,045 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 69] --> Received chatbot payload: user_id='NAGSYA5' session_id='6WaZPA1MtwumvASMUcmHiNS' client_id='NAGSYA5' role='CLIENT' token='7c56978a-6cc7-4927-bd46-73450589fd3a' interaction=InteractionV2(type='DETERMINISTIC_FLOW', attachement='', input=InputData(text=None, id='stop_online_trade', from_date=None, to_date=None), metadata=Metadata(source='web'), request_id=None)
2025-06-26 11:22:42,046 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 87] --> Invoking graph with interrupt resume command
2025-06-26 11:22:42,068 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:22:42,087 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS, found: Yes
2025-06-26 11:22:42,088 mlscoringinference [INFO | chatbot_navigator.py : navigate : 86] --> session data: {'user_id': 'NAGSYA5', 'role': 'CLIENT', 'input_params': {'action': 'initial', 'response_text': 'Welcome to your Mo Gini assistant. How can I help you today?', 'available_choices': [{'id': 'ledger_report', 'text': 'Ledger Report'}, {'id': 'profit_and_loss_statement', 'text': 'Profit and loss statement'}, {'id': 'my_details', 'text': 'My details'}, {'id': 'dp_statement', 'text': 'DP Statement'}, {'id': 'brokerage_report', 'text': 'Brokerage Report'}, {'id': 'itr_statement', 'text': 'ITR Statement'}, {'id': 'available_margin', 'text': 'Available Margin'}, {'id': 'my_dashboard', 'text': 'My Dashboard'}, {'id': 'tds_certificate', 'text': 'TDS Certificate'}, {'id': 'stt_ctt_certificate', 'text': 'STT/CTT Certificate'}, {'id': 'markets_research_client', 'text': 'Market Research'}, {'id': 'emodification', 'text': 'E-modification'}, {'id': 'upcoming_buyback', 'text': 'Upcoming Buyback'}, {'id': 'mf_status', 'text': 'Mutual Fund Status'}, {'id': 'fund_payout_status', 'text': 'Fund Payout Status'}, {'id': 'margin_shortage', 'text': 'Margin Shortage Penalty'}, {'id': 'rta_statement', 'text': 'RTA Statement'}, {'id': 'dormant_status', 'text': 'Dormant Reactivation & Status'}, {'id': 'fund_transfer_status', 'text': 'Funds Transfer Status'}, {'id': 'stop_online_trade', 'text': 'Stop Online Trading'}, {'id': 'start_online_trade', 'text': 'Start Online Trading'}, {'id': 'grandfather_pnl', 'text': 'Grandfather Profit and Loss statement'}, {'id': 'sauda_details', 'text': 'Sauda Detail'}, {'id': 'ipo', 'text': 'IPO'}, {'id': 'digi_cmr', 'text': 'DIGI CMR Report'}, {'id': 'contract_note', 'text': 'Contract Note'}, {'id': 'dis_drf_status', 'text': 'DIS/DRF Status'}, {'id': 'segment_addition', 'text': 'Segment Addition'}], 'id': 'initial_client'}, 'last_updated': '2025-06-26T05:40:26.955574', 'history_stack': ['initial_client', 'emodification', 'address', 'initial_client', 'grandfather_pnl', 'current_fy']}
2025-06-26 11:22:42,127 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:22:42,145 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:22:42,165 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:22:42,184 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:22:42,202 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:22:42,203 mlscoringinference [INFO | chatbot_session.py : update_header : 264] --> Updated user data: {'user_id': 'NAGSYA5', 'session_id': '6WaZPA1MtwumvASMUcmHiNS', 'client_id': 'NAGSYA5', 'role': 'CLIENT', 'token': '7c56978a-6cc7-4927-bd46-73450589fd3a', 'interaction': {'type': 'DETERMINISTIC_FLOW', 'attachement': '', 'input': {'text': None, 'id': 'stop_online_trade', 'from_date': None, 'to_date': None}, 'metadata': {'source': 'web'}, 'request_id': None}}
2025-06-26 11:22:42,221 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:22:42,223 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'account_type': None, 'api_endpoint': 'stop_online_trade'}, 'last_updated': '2025-06-26T05:52:42.091659'}
2025-06-26 11:22:42,223 mlscoringinference [INFO | chatbot_session.py : order_type : 406] --> No segment mapping found for click id: stop_online_trade
2025-06-26 11:22:42,245 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:22:42,246 mlscoringinference [INFO | chatbot_session.py : emod_type : 335] --> E-type for click id: stop_online_trade is 'Emod'.
2025-06-26 11:22:42,247 mlscoringinference [WARNING | chatbot_session.py : account_opening_partner : 381] --> Unknown click_id: stop_online_trade
2025-06-26 11:22:42,265 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:22:42,266 mlscoringinference [INFO | chatbot_session.py : segment_type : 416] --> segment-type for click id: stop_online_trade is 'Commodity'.
2025-06-26 11:22:42,284 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:22:42,284 mlscoringinference [INFO | chatbot_session.py : date_type : 345] --> E-type for click id: stop_online_trade is 'Effective'.
2025-06-26 11:22:42,287 mlscoringinference [INFO | chatbot_navigator.py : navigate : 102] --> CURRENT ID : stop_online_trade
2025-06-26 11:22:42,288 mlscoringinference [INFO | chatbot_navigator.py : navigate : 106] --> NEXT STATE : {'action': 'endapi', 'endpoint': 'stop_online_trade', 'id': 'stop_online_trade'}
2025-06-26 11:22:42,288 mlscoringinference [INFO | chatbot_navigator.py : navigate : 141] --> END API CALL INITIATED
2025-06-26 11:22:42,306 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_api_payload, found: Yes
2025-06-26 11:22:42,307 mlscoringinference [INFO | chatbot_session.py : get_api_paylods : 241] --> get_api_paylods: {'api_payloads': {'account_type': None, 'api_endpoint': 'stop_online_trade'}, 'last_updated': '2025-06-26T05:52:42.091659'}
2025-06-26 11:22:42,307 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 157] --> 6WaZPA1MtwumvASMUcmHiNS_client_id
2025-06-26 11:22:42,325 mlscoringinference [INFO | session_store.py : load : 57] --> Loading session data for ID: 6WaZPA1MtwumvASMUcmHiNS_client_id, found: No
2025-06-26 11:22:42,326 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 159] --> None
2025-06-26 11:22:42,326 mlscoringinference [INFO | chatbot_session.py : get_client_id_for_partner : 160] --> Client id fetched from Redis: None
2025-06-26 11:22:42,327 mlscoringinference [ERROR | chatbot_session.py : get_client_id_for_partner : 165] --> Client ID not found in Redis for session: 6WaZPA1MtwumvASMUcmHiNS
2025-06-26 11:22:42,327 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 38] --> HANDLE PRIMARY API INITIATED
2025-06-26 11:22:42,327 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 45] --> stop_online_trade - API ENDPOINT
2025-06-26 11:22:42,327 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 66] --> Calling endpoint 'stop_online_trade' with args: {'account_type': None}
2025-06-26 11:22:42,329 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 68] --> Raw response from endpoint 'stop_online_trade': {'error': "An unexpected error occurred: 'session_id'"}
2025-06-26 11:22:42,329 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 71] --> API 'stop_online_trade' call successful
2025-06-26 11:22:42,334 mlscoringinference [DEBUG | endpoint_api_handler.py : handle_primary_api : 72] --> Response: {'error': "An unexpected error occurred: 'session_id'", 'action': 'result'}
2025-06-26 11:22:42,334 mlscoringinference [INFO | endpoint_api_handler.py : handle_primary_api : 74] --> {'error': "An unexpected error occurred: 'session_id'", 'action': 'result'} - RESPONSE
2025-06-26 11:22:42,335 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 89] --> Interrupt resume completed successfully
2025-06-26 11:22:42,336 mlscoringinference [INFO | chatbot_service.py : get_chatbot_response : 93] --> Handled via deterministic flow.
